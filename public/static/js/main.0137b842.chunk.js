(this["webpackJsonpmovie-store"]=this["webpackJsonpmovie-store"]||[]).push([[0],{51:function(e,t,n){e.exports=n.p+"static/media/Logo.b9d3e384.png"},62:function(e,t,n){e.exports=n(77)},74:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var a=n(27),r=n(0),c=n.n(r),i=n(46),o=n.n(i),l=n(9),u=n.n(l),m=n(17),s=n(7),d=n(61),f=n(25),p=n(83),b=n(2),g=n(3),v=n(12);function E(){var e=Object(b.a)(['\n\twidth: 130px;\n\tbox-sizing: border-box;\n\tborder: 2px solid #ccc;\n\tborder-radius: 4px;\n\tfont-size: 15px;\n\tbackground-color: white;\n\tbackground-image: url("/images/search.png");\n\tbackground-position: 10px 10px;\n\tbackground-size: 22px;\n\tbackground-repeat: no-repeat;\n\tpadding: 12px 20px 12px 40px;\n\t-webkit-transition: width 0.4s ease-in-out;\n\ttransition: width 0.4s ease-in-out;\n\t&:focus {\n\t\twidth: 100%;\n\t}\n']);return E=function(){return e},e}function h(){var e=Object(b.a)(['\n\tdisplay: block;\n\tpadding: 28px 26px;\n\tmargin: auto;\n\t&::after {\n\t\tcontent: "";\n\t\tclear: both;\n\t\tdisplay: table;\n\t}\n\t@media screen and (max-width: 768px) {\n\t\tpadding: 15px 26px;\n\t}\n']);return h=function(){return e},e}function x(){var e=Object(b.a)(["\n\tpadding: 15px;\n\tbackface-visibility: hidden;\n\tborder-radius: 10px;\n\ttransition: background-color 0.3s cubic-bezier(0.28, 0.84, 0.42, 1);\n\t&:hover {\n\t\tbackground-color: #999;\n\t}\n"]);return x=function(){return e},e}function j(){var e=Object(b.a)(['\n\tdisplay: block;\n\tcolor: black;\n\tfont-family: "Roboto", sans-serif;\n\t/* font-weight: 700; */\n\ttext-align: center;\n\tpadding: 25px 5px;\n\tfont-size: 18px;\n\ttext-decoration: none;\n\t/* background-color: ',";\n\t&:hover {\n\t\tbackground-color: ",";\n\t} */\n\t@media screen and (max-width: 768px) {\n\t\tpadding: 25px 26px;\n\t}\n"]);return j=function(){return e},e}function O(){var e=Object(b.a)(["\n\tfloat: ",";\n\t@media screen and (max-width: 768px) {\n\t\tfloat: none;\n\t}\n"]);return O=function(){return e},e}function y(){var e=Object(b.a)(["\n\tlist-style-type: none;\n\tmax-width: 1400px;\n\tmargin: 0 auto;\n\tpadding: 0;\n\toverflow: hidden;\n\t/* background-color: #f0f2f3; */\n"]);return y=function(){return e},e}var w=g.a.ul(y()),k=g.a.li(O(),(function(e){return e.right?"right":"left"})),C=Object(g.a)(v.c)(j(),(function(e){return e.active?"#777":"none"}),(function(e){return e.active?"none":"#999"})),I=g.a.div(x()),S=g.a.form(h()),z=g.a.input(E()),F=n(51),A=n.n(F),M=n(15),D=n(23),T=n.n(D);function $(){var e=Object(b.a)(["\n\tmutation WishMovie($userId: String!, $movieId: String!, $active: Boolean!) {\n\t\twishMovie(userId: $userId, movieId: $movieId, active: $active)\n\t}\n"]);return $=function(){return e},e}function q(){var e=Object(b.a)(["\n\tmutation AddMovie(\n\t\t$name: String!\n\t\t$releaseDate: String!\n\t\t$description: String!\n\t\t$director: String!\n\t\t$cast: [String!]!\n\t\t$genre: String!\n\t\t$runtime: Int!\n\t\t$language: String!\n\t\t$availableIn: [AvailableInInput!]!\n\t\t$cover: String!\n\t) {\n\t\taddMovie(\n\t\t\tname: $name\n\t\t\treleaseDate: $releaseDate\n\t\t\tdescription: $description\n\t\t\tdirector: $director\n\t\t\tcast: $cast\n\t\t\tgenre: $genre\n\t\t\truntime: $runtime\n\t\t\tlanguage: $language\n\t\t\tavailableIn: $availableIn\n\t\t\tcover: $cover\n\t\t) {\n\t\t\tid\n\t\t\tcreatedAt\n\t\t}\n\t}\n"]);return q=function(){return e},e}function N(){var e=Object(b.a)(["\n\t{\n\t\tgetMovies {\n\t\t\tid\n\t\t\tname\n\t\t\treleaseDate\n\t\t\tdescription\n\t\t\tdirector\n\t\t\tcast\n\t\t\tgenre\n\t\t\truntime\n\t\t\tlanguage\n\t\t\tavailableIn {\n\t\t\t\tformat\n\t\t\t\tprice\n\t\t\t\tstock\n\t\t\t}\n\t\t\tcover\n\t\t}\n\t}\n"]);return N=function(){return e},e}function U(){var e=Object(b.a)(["\n\tquery GetMovie($movieId: String!) {\n\t\tgetMovie(movieId: $movieId) {\n\t\t\tid\n\t\t\tname\n\t\t\treleaseDate\n\t\t\tdescription\n\t\t\tdirector\n\t\t\tcast\n\t\t\tgenre\n\t\t\truntime\n\t\t\tlanguage\n\t\t\tavailableIn {\n\t\t\t\tformat\n\t\t\t\tprice\n\t\t\t\tstock\n\t\t\t}\n\t\t\tcover\n\t\t}\n\t}\n"]);return U=function(){return e},e}function L(){var e=Object(b.a)(["\n\tmutation Logout {\n\t\tlogoutUser\n\t}\n"]);return L=function(){return e},e}function R(){var e=Object(b.a)(["\n\tmutation Register($username: String!, $email: String!, $password: String!) {\n\t\tsignupUser(username: $username, email: $email, password: $password) {\n\t\t\taccessToken\n\t\t\tuser {\n\t\t\t\tid\n\t\t\t\tusername\n\t\t\t\temail\n\t\t\t\tadmin\n\t\t\t\twishlist {\n\t\t\t\t\tmovie {\n\t\t\t\t\t\tid\n\t\t\t\t\t\tname\n\t\t\t\t\t\tgenre\n\t\t\t\t\t}\n\t\t\t\t\tupdatedAt\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"]);return R=function(){return e},e}function P(){var e=Object(b.a)(["\n\tmutation Login($email: String!, $password: String!) {\n\t\tloginUser(email: $email, password: $password) {\n\t\t\taccessToken\n\t\t\tuser {\n\t\t\t\tid\n\t\t\t\tusername\n\t\t\t\temail\n\t\t\t\tadmin\n\t\t\t\twishlist {\n\t\t\t\t\tmovie {\n\t\t\t\t\t\tid\n\t\t\t\t\t\tname\n\t\t\t\t\t\tgenre\n\t\t\t\t\t}\n\t\t\t\t\tupdatedAt\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"]);return P=function(){return e},e}function Y(){var e=Object(b.a)(["\n\t{\n\t\tgetUser {\n\t\t\tid\n\t\t\tusername\n\t\t\temail\n\t\t\tadmin\n\t\t\twishlist {\n\t\t\t\tmovie {\n\t\t\t\t\tid\n\t\t\t\t\tname\n\t\t\t\t\tgenre\n\t\t\t\t}\n\t\t\t\tupdatedAt\n\t\t\t}\n\t\t}\n\t}\n"]);return Y=function(){return e},e}var B=T()(Y()),G=T()(P()),W=T()(R()),H=T()(L()),J=T()(U()),Q=T()(N()),V=T()(q()),X=T()($());function _(){var e=Object(b.a)(["\n\tdisplay: block;\n\twidth: 50%;\n\tborder: none;\n\tborder-radius: 10px;\n\tbackground-color: tomato;\n\tcolor: white;\n\tpadding: 14px 28px;\n\tmargin: 5px auto;\n\tfont-size: 16px;\n\tcursor: pointer;\n\ttext-align: center;\n\t&:hover {\n\t\tbackground-color: #cc4f38;\n\t}\n"]);return _=function(){return e},e}function K(){var e=Object(b.a)(["\n\twidth: 100%;\n\tpadding: 16px 20px;\n\tmargin: 12px 0;\n\tdisplay: inline-block;\n\t/* text-align: center; */\n\tbackground-color: #f44336;\n\tcolor: white;\n\tanimation: "," 1s;\n"]);return K=function(){return e},e}function Z(){var e=Object(b.a)(["\n    0% { opacity: 0;}\n    99% { opacity: 0.99;width: 100%; height: 100%;}\n    100% { opacity: 1;width: 100%; height: 100%;}\n"]);return Z=function(){return e},e}function ee(){var e=Object(b.a)(["\n\twidth: 100%;\n\tpadding: 12px 20px;\n\tmargin: 8px 0;\n\tdisplay: inline-block;\n\tborder: 1px solid #ccc;\n\tresize: vertical;\n"]);return ee=function(){return e},e}function te(){var e=Object(b.a)(["\n\twidth: 100%;\n\tpadding: 12px 20px;\n\tmargin: 8px 0;\n\tdisplay: inline-block;\n\tborder: 1px solid #ccc;\n"]);return te=function(){return e},e}function ne(){var e=Object(b.a)(["\n\tbackground-color: tomato;\n\tcolor: white;\n\tpadding: 14px 20px;\n\tmargin: 8px 0;\n\tborder: none;\n\tborder-radius: 5px;\n\tcursor: pointer;\n\twidth: 100%;\n\t&:hover {\n\t\topacity: 0.8;\n\t}\n"]);return ne=function(){return e},e}function ae(){var e=Object(b.a)(["\n\tpadding: 16px;\n"]);return ae=function(){return e},e}function re(){var e=Object(b.a)(["\n\tposition: absolute;\n\tright: 25px;\n\ttop: 0;\n\tcolor: #000;\n\tfont-size: 30px;\n\tfont-weight: bold;\n\t&:hover,\n\t&:focus {\n\t\tcolor: red;\n\t\tcursor: pointer;\n\t}\n"]);return re=function(){return e},e}function ce(){var e=Object(b.a)(["\n\twidth: 30%;\n\tborder-radius: 50%;\n"]);return ce=function(){return e},e}function ie(){var e=Object(b.a)(["\n\ttext-align: center;\n\tmargin: 24px 0 12px 0;\n\tposition: relative;\n"]);return ie=function(){return e},e}function oe(){var e=Object(b.a)(["\n\tbackground-color: #fefefe;\n\tmargin: 5% auto 15% auto;\n\tborder: 1px solid #888;\n\twidth: 40%;\n\t-webkit-animation: "," 0.6s;\n\tanimation: "," 0.6s;\n\t@media screen and (max-width: 768px) {\n\t\twidth: 80%;\n\t}\n"]);return oe=function(){return e},e}function le(){var e=Object(b.a)(["\n  from {\n      transform: scale(0)\n    } \n  to {\n      transform: scale(1)\n    }\n"]);return le=function(){return e},e}function ue(){var e=Object(b.a)(["\n\tdisplay: ",';\n\tposition: fixed;\n\tz-index: 1;\n\tleft: 0;\n\ttop: 0;\n\twidth: 100%;\n\theight: 100%;\n\toverflow: auto;\n\tbackground-color: rgb(0, 0, 0);\n\tbackground-color: rgba(0, 0, 0, 0.4);\n\tpadding-top: 60px;\n\tfont-family: "Gotu", sans-serif;\n']);return ue=function(){return e},e}var me=g.a.div(ue(),(function(e){return e.modal?"block":"none"})),se=Object(g.b)(le()),de=g.a.form(oe(),se,se),fe=g.a.div(ie()),pe=g.a.img(ce()),be=g.a.span(re()),ge=g.a.div(ae()),ve=g.a.button(ne()),Ee=g.a.input(te()),he=g.a.textarea(ee()),xe=Object(g.b)(Z()),je=g.a.div(K(),xe),Oe=g.a.button(_()),ye=n(80),we=n(6),ke=function(){var e=Object(we.e)((function(e){return e.user.setAccessToken})),t=Object(r.useState)(""),n=Object(s.a)(t,2),a=n[0],i=n[1],o=Object(r.useState)(""),l=Object(s.a)(o,2),d=l[0],f=l[1],p=Object(r.useState)(!1),b=Object(s.a)(p,2),g=b[0],v=b[1],E=Object(r.useState)(null),h=Object(s.a)(E,2),x=h[0],j=h[1],O=Object(M.a)(G),y=Object(s.a)(O,1)[0],w=function(e){S.current&&!S.current.contains(e.target)&&(v(!1),i(""),f(""),j(null))},S=Object(r.useRef)(null);return Object(r.useEffect)((function(){return document.addEventListener("mousedown",w),function(){document.removeEventListener("mousedown",w)}}),[S]),c.a.createElement(c.a.Fragment,null,c.a.createElement(k,{right:!0},c.a.createElement(C,{onClick:function(){return v(!0)},to:"#"},c.a.createElement(I,null,c.a.createElement(ye.a,{size:"16",title:"Login"})))),c.a.createElement(me,{modal:g},c.a.createElement(de,{ref:S,onSubmit:function(){var t=Object(m.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,y({variables:{email:a,password:d},update:function(e,t){var n=t.data;if(!n)return null;e.writeQuery({query:B,data:{getUser:n.loginUser.user}})}});case 4:(r=t.sent)&&r.data&&e(r.data.loginUser.accessToken),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),j(t.t0.graphQLErrors[0].message),i(""),f("");case 13:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},c.a.createElement(fe,null,c.a.createElement(be,{onClick:function(){v(!1),i(""),f(""),j(null)},title:"Close"},"\xd7"),c.a.createElement(pe,{src:"/images/popcorn.png",alt:"popcorn"})),c.a.createElement(ge,null,x?c.a.createElement(je,null,c.a.createElement("strong",null,x)):null,c.a.createElement("label",{htmlFor:"email"},c.a.createElement("strong",null,"Email:")),c.a.createElement(Ee,{type:"text",value:a,placeholder:"Enter Email",name:"email",onChange:function(e){i(e.target.value)},required:!0}),c.a.createElement("label",{htmlFor:"password"},c.a.createElement("strong",null,"Password:")),c.a.createElement(Ee,{type:"password",value:d,placeholder:"Enter Password",name:"password",onChange:function(e){f(e.target.value)},required:!0}),c.a.createElement(ve,{type:"submit"},"Login")))))},Ce=n(81),Ie=function(){var e=Object(we.e)((function(e){return e.user.setAccessToken})),t=Object(r.useState)(""),n=Object(s.a)(t,2),a=n[0],i=n[1],o=Object(r.useState)(""),l=Object(s.a)(o,2),d=l[0],f=l[1],p=Object(r.useState)(""),b=Object(s.a)(p,2),g=b[0],v=b[1],E=Object(r.useState)(""),h=Object(s.a)(E,2),x=h[0],j=h[1],O=Object(r.useState)(null),y=Object(s.a)(O,2),w=y[0],S=y[1],z=Object(M.a)(W),F=Object(s.a)(z,1)[0],A=function(e){D.current&&!D.current.contains(e.target)&&(j(!1),i(""),f(""),v(""),S(null))},D=Object(r.useRef)(null);return Object(r.useEffect)((function(){return document.addEventListener("mousedown",A),function(){document.removeEventListener("mousedown",A)}}),[D]),c.a.createElement(c.a.Fragment,null,c.a.createElement(k,{right:!0},c.a.createElement(C,{onClick:function(){return j(!0)},to:"#"},c.a.createElement(I,null,c.a.createElement(Ce.a,{size:"16",title:"Register"})))),c.a.createElement(me,{modal:x},c.a.createElement(de,{ref:D,onSubmit:function(){var t=Object(m.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,F({variables:{username:g,email:a,password:d},update:function(e,t){var n=t.data;if(!n)return null;e.writeQuery({query:B,data:{getUser:n.signupUser.user}})}});case 4:(r=t.sent)&&r.data&&e(r.data.signupUser.accessToken),t.next=14;break;case 8:t.prev=8,t.t0=t.catch(1),S(t.t0.graphQLErrors[0].message),i(""),f(""),v("");case 14:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},c.a.createElement(fe,null,c.a.createElement(be,{onClick:function(){j(!1),i(""),f(""),v(""),S(null)},title:"Close"},"\xd7"),c.a.createElement(pe,{src:"/images/popcorn.png",alt:"popcorn"})),c.a.createElement(ge,null,w?c.a.createElement(je,null,c.a.createElement("strong",null,w)):null,c.a.createElement("label",{htmlFor:"username"},c.a.createElement("strong",null,"Username:")),c.a.createElement(Ee,{type:"text",value:g,placeholder:"Enter Username",name:"name",onChange:function(e){v(e.target.value)},required:!0}),c.a.createElement("label",{htmlFor:"email"},c.a.createElement("strong",null,"Email:")),c.a.createElement(Ee,{type:"email",value:a,placeholder:"Enter Email",name:"email",onChange:function(e){i(e.target.value)},required:!0}),c.a.createElement("label",{htmlFor:"password"},c.a.createElement("strong",null,"Password:")),c.a.createElement(Ee,{type:"password",value:d,placeholder:"Enter Password",name:"password",onChange:function(e){f(e.target.value)},required:!0}),c.a.createElement(ve,{type:"submit"},"Register")))))},Se=n(82),ze=function(){var e=Object(we.e)((function(e){return e.user.setAccessToken})),t=Object(M.a)(H),n=Object(s.a)(t,2),a=n[0],r=n[1].client;return c.a.createElement(k,{right:!0},c.a.createElement(C,{onClick:Object(m.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a();case 2:return e(""),t.next=5,r.resetStore();case 5:case"end":return t.stop()}}),t)}))),to:"/"},c.a.createElement(I,null,c.a.createElement(Se.a,{size:"16",title:"Logout"}))))},Fe=function(){var e=Object(M.b)(B),t=e.data,n=e.loading,a=Object(we.f)((function(e){return e.search.input})),r=Object(we.e)((function(e){return e.search.setInput})),i=c.a.createElement(c.a.Fragment,null,c.a.createElement(ze,null),c.a.createElement(k,{right:!0},c.a.createElement(C,{to:"/wishlist"},c.a.createElement(I,null,c.a.createElement(p.a,{size:"16",title:"My Wishlist"}))))),o=c.a.createElement(c.a.Fragment,null,c.a.createElement(k,null,c.a.createElement(C,{to:"/admin-section"},c.a.createElement(I,null,"Admin Section")))),l=c.a.createElement(c.a.Fragment,null,c.a.createElement(ke,null),c.a.createElement(Ie,null));return c.a.createElement(w,null,c.a.createElement(k,null,c.a.createElement(C,{to:"/",style:{padding:"18px 25px"}},c.a.createElement("img",{src:A.a,alt:"logo",style:{height:61,width:240}}))),t&&t.getUser&&!n&&t.getUser.admin?o:null,c.a.createElement(k,null,c.a.createElement(C,{to:"/movies"},c.a.createElement(I,null,"Catalogue"))),c.a.createElement(k,null,c.a.createElement(S,{autoComplete:"off",onSubmit:function(e){e.preventDefault()}},c.a.createElement(z,{type:"text",name:"search",placeholder:"Search...",value:a,onChange:function(e){r(e.target.value)}}))),t&&t.getUser&&!n?i:l)};function Ae(){var e=Object(b.a)(["\n\tcolor: ",";\n\tbackground-color: ",";\n\tpadding: 8px 16px;\n\tfont-size: 20px;\n\ttext-decoration: none;\n\tcursor: pointer;\n\ttransition: background-color 0.3s;\n\t&:hover {\n\t\tbackground-color: ",";\n\t}\n"]);return Ae=function(){return e},e}function Me(){var e=Object(b.a)(['\n\tposition: absolute;\n\theight: 3rem;\n\tleft: 0;\n\tbottom: 0;\n\tright: 0;\n\twidth: 100%;\n\tfont-family: "Dancing Script", cursive;\n\tbackground-color: #48505e;\n\tcolor: white;\n\ttext-align: center;\n\tvertical-align: middle;\n\tline-height: 3rem;\n']);return Me=function(){return e},e}function De(){var e=Object(b.a)(["\n\ttext-align: end;\n\tfont-size: 11px;\n\tposition: absolute;\n\tbottom: 0;\n\tright: 0;\n"]);return De=function(){return e},e}function Te(){var e=Object(b.a)(["\n\ttext-align: center;\n\tpadding: 2.5rem;\n\t@media screen and (max-width: 768px) {\n\t\tpadding: 0 0 50px 0;\n\t\tfont-size: 24px;\n\t}\n"]);return Te=function(){return e},e}function $e(){var e=Object(b.a)(["\n\tposition: relative;\n\tpadding-top: 60px;\n\tbackground-image: url(",');\n\tbackground-repeat: no-repeat;\n\tbackground-size: 100% 100%;\n\tmin-height: 350px;\n\tcolor: white;\n\tfont-family: "Gotu", sans-serif;\n\ttransition: background-image 0.2s ease;\n\t@media screen and (max-width: 768px) {\n\t\tmin-height: 25px;\n\t}\n']);return $e=function(){return e},e}function qe(){var e=Object(b.a)(["\n\tfont-size: 26px;\n\tfont-weight: 600;\n\twhite-space: pre-line;\n\tmargin-left: 300px;\n\t@media screen and (max-width: 768px) {\n\t\tmargin-left: 10px;\n\t}\n"]);return qe=function(){return e},e}function Ne(){var e=Object(b.a)(['\n\tpadding-bottom: 3.5rem;\n\tfont-family: "Raleway", sans-serif;\n']);return Ne=function(){return e},e}function Ue(){var e=Object(b.a)(["\n\theight: 100%;\n\twidth: ",";\n\tposition: fixed;\n\tz-index: 3;\n\t/* top: 0;\n\tleft: 0; */\n\tbackground-color: rgba(0, 0, 0, 0.9);\n\toverflow-y: auto;\n\toverflow-x: hidden;\n\topacity: ",";\n\ttransition: opacity 0.7s;\n"]);return Ue=function(){return e},e}function Le(){var e=Object(b.a)(["\n\tdisplay: block;\n\ttransition: margin-left 0.5s;\n\tpadding: 0.1px;\n\tmargin-left: ",";\n\tposition: relative;\n\tmin-height: 100vh;\n"]);return Le=function(){return e},e}var Re=g.a.div(Le(),(function(e){return e.sideNav?"350px":0})),Pe=g.a.div(Ue(),(function(e){return e.sideNav?"100%":0}),(function(e){return e.sideNav?.8:0})),Ye=g.a.div(Ne()),Be=g.a.p(qe()),Ge=g.a.div($e(),(function(e){return e.url})),We=g.a.h1(Te()),He=g.a.div(De()),Je=g.a.footer(Me()),Qe=g.a.a(Ae(),(function(e){return"true"===e.active?"white":"black"}),(function(e){return"true"===e.active?"dodgerblue":""}),(function(e){return"false"===e.active?"#ddd":""})),Ve=Object(f.g)((function(e){var t=e.history,n=Object(M.b)(B),a=n.data,r=n.loading,i="",o="";switch(t.location.pathname){case"/":i=a&&a.getUser&&!r?"WELCOME ".concat(a.getUser.username,"!"):"Movie Affiliates",o="/images/home.jpg";break;case"/wishlist":i="Wishlist",o="/images/rickmorty.jpg";break;case"/checkout":i="Checkout",o="/images/checkout.jpg";break;case"/admin-section":i="Admin Section",o="/images/home.jpg";break;default:i="Catalogue",o="/images/red-popcorn-2.png"}return c.a.createElement(Ge,{url:o},c.a.createElement(We,null,i),"/images/rickmorty.jpg"===o?c.a.createElement(He,null,"art by",c.a.createElement("a",{href:"https://www.artstation.com/senhordotempo"},"Wilian Silva")):null)})),Xe=function(){return c.a.createElement(Be,null,_e)},_e="Hi everyone! Welcome to my movie store!!\n\n\nEver since I can remember myself I had a true passion for film and cinema.\nI made this website so I can express my love for movies and also coding!\n\n\nI really hope you enjoy it.\n\n\nDaniel\n";function Ke(){var e=Object(b.a)(["\n\tdisplay: flex;\n\tpadding: 1rem;\n\n\t@media (min-width: 40rem) {\n\t\twidth: 50%;\n\t}\n\n\t@media (min-width: 56rem) {\n\t\twidth: 33.3333%;\n\t}\n"]);return Ke=function(){return e},e}function Ze(){var e=Object(b.a)(["\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tlist-style: none;\n\tmargin: 0;\n\tpadding: 0;\n"]);return Ze=function(){return e},e}function et(){var e=Object(b.a)(["\n\tmax-width: 1200px;\n\tmargin: 0 auto;\n"]);return et=function(){return e},e}var tt=g.a.div(et()),nt=g.a.ul(Ze()),at=g.a.li(Ke());function rt(){var e=Object(b.a)(["\n\tdisplay: flex;\n\tmargin: 0 0 0 auto;\n"]);return rt=function(){return e},e}function ct(){var e=Object(b.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-content: flex-end;\n\tpadding: 1rem;\n"]);return ct=function(){return e},e}function it(){var e=Object(b.a)(["\n\tfont-size: 22px;\n\tmargin: auto;\n"]);return it=function(){return e},e}function ot(){var e=Object(b.a)(["\n\tfont-size: 26px;\n\tmargin: auto;\n"]);return ot=function(){return e},e}function lt(){var e=Object(b.a)(["\n\twidth: 100%;\n\theight: 100%;\n"]);return lt=function(){return e},e}function ut(){var e=Object(b.a)(["\n\ttext-decoration: none;\n\toverflow: hidden;\n\theight: 70%;\n"]);return ut=function(){return e},e}function mt(){var e=Object(b.a)(["\n\tbackground-color: white;\n\tborder-radius: 0.25rem;\n\tdisplay: flex;\n\tflex-direction: column;\n\toverflow: hidden;\n\twidth: 20rem;\n\tbox-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\n\ttransition: 0.3s;\n\t&:hover {\n\t\tbox-shadow: 0 25px 40px 0 rgba(0, 0, 0, 0.4);\n\t}\n"]);return mt=function(){return e},e}function st(){var e=Object(b.a)([""]);return st=function(){return e},e}function dt(){var e=Object(b.a)(['\n\tfont-family: "Raleway", sans-serif;\n']);return dt=function(){return e},e}var ft=g.a.select(dt()),pt=g.a.option(st()),bt=g.a.div(mt()),gt=Object(g.a)(v.b)(ut()),vt=g.a.img(lt()),Et=g.a.h3(ot()),ht=g.a.h4(it()),xt=g.a.div(ct()),jt=g.a.button(rt()),Ot=n(84),yt=n(85);n(74);function wt(){var e=Object(b.a)(["\n\tdisplay: ",";\n\tmin-width: 250px;\n\tmargin-left: -125px;\n\tbackground-color: #333;\n\tcolor: #fff;\n\ttext-align: center;\n\tborder-radius: 2px;\n\tpadding: 16px;\n\tposition: fixed;\n\tz-index: 1;\n\tleft: 50%;\n\tbottom: 30px;\n\tfont-size: 17px;\n\t-webkit-animation: "," 0.5s, "," 0.5s 2.5s;\n\tanimation: "," 0.5s, "," 0.5s 2.5s;\n"]);return wt=function(){return e},e}function kt(){var e=Object(b.a)(["\n  from {\n    bottom: 30px;\n    opacity: 1;\n  }\n  to {\n    bottom: 0;\n    opacity: 0;\n  }\n"]);return kt=function(){return e},e}function Ct(){var e=Object(b.a)(["\n  from {\n    bottom: 0;\n    opacity: 0;\n  }\n  to {\n    bottom: 30px;\n    opacity: 1;\n  }\n"]);return Ct=function(){return e},e}var It=Object(g.b)(Ct()),St=Object(g.b)(kt()),zt=g.a.div(wt(),(function(e){return e.clicked?"block":"none"}),It,St,It,St),Ft=function(e){var t=e.movieId,n=Object(r.useState)(!1),a=Object(s.a)(n,2),i=a[0],o=a[1],l=Object(r.useState)(!1),d=Object(s.a)(l,2),f=d[0],p=d[1],b=Object(M.b)(B),g=b.data,v=b.loading,E=b.refetch,h=Object(M.a)(X),x=Object(s.a)(h,1)[0];if(Object(r.useEffect)((function(){if(g&&g.getUser){var e=g.getUser.wishlist.filter((function(e){return e.movie.id===t})).length>0;o(e)}}),[g,t]),v)return null;var j=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g||!g.getUser){e.next=7;break}return e.next=3,x({variables:{userId:g.getUser.id,movieId:t,active:!i}});case 3:E(),o(!i),e.next=9;break;case 7:p(!0),setTimeout((function(){p(!1)}),2700);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(zt,{clicked:f},"You need to be logged in to wish... \ud83e\udd7a"),c.a.createElement("div",{id:"main-content"},c.a.createElement("div",null,c.a.createElement("input",{type:"checkbox",id:t,checked:i,onChange:j}),c.a.createElement("label",{htmlFor:t},c.a.createElement("svg",{id:"heart-svg",viewBox:"467 392 58 57",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("g",{id:"Group",fill:"none",fillRule:"evenodd",transform:"translate(467 392)"},c.a.createElement("path",{d:"M29.144 20.773c-.063-.13-4.227-8.67-11.44-2.59C7.63 28.795 28.94 43.256 29.143 43.394c.204-.138 21.513-14.6 11.44-25.213-7.214-6.08-11.377 2.46-11.44 2.59z",id:"heart",fill:"#AAB8C2"}),c.a.createElement("circle",{id:"main-circ",fill:"#E2264D",opacity:"0",cx:"29.5",cy:"29.5",r:"1.5"}),c.a.createElement("g",{id:"grp7",opacity:"0",transform:"translate(7 6)"},c.a.createElement("circle",{id:"oval1",fill:"#9CD8C3",cx:"2",cy:"6",r:"2"}),c.a.createElement("circle",{id:"oval2",fill:"#8CE8C3",cx:"5",cy:"2",r:"2"})),c.a.createElement("g",{id:"grp6",opacity:"0",transform:"translate(0 28)"},c.a.createElement("circle",{id:"oval1",fill:"#CC8EF5",cx:"2",cy:"7",r:"2"}),c.a.createElement("circle",{id:"oval2",fill:"#91D2FA",cx:"3",cy:"2",r:"2"})),c.a.createElement("g",{id:"grp3",opacity:"0",transform:"translate(52 28)"},c.a.createElement("circle",{id:"oval2",fill:"#9CD8C3",cx:"2",cy:"7",r:"2"}),c.a.createElement("circle",{id:"oval1",fill:"#8CE8C3",cx:"4",cy:"2",r:"2"})),c.a.createElement("g",{id:"grp2",opacity:"0",transform:"translate(44 6)",fill:"#CC8EF5"},c.a.createElement("circle",{id:"oval2",transform:"matrix(-1 0 0 1 10 0)",cx:"5",cy:"6",r:"2"}),c.a.createElement("circle",{id:"oval1",transform:"matrix(-1 0 0 1 4 0)",cx:"2",cy:"2",r:"2"})),c.a.createElement("g",{id:"grp5",opacity:"0",transform:"translate(14 50)",fill:"#91D2FA"},c.a.createElement("circle",{id:"oval1",transform:"matrix(-1 0 0 1 12 0)",cx:"6",cy:"5",r:"2"}),c.a.createElement("circle",{id:"oval2",transform:"matrix(-1 0 0 1 4 0)",cx:"2",cy:"2",r:"2"})),c.a.createElement("g",{id:"grp4",opacity:"0",transform:"translate(35 50)",fill:"#F48EA7"},c.a.createElement("circle",{id:"oval1",transform:"matrix(-1 0 0 1 12 0)",cx:"6",cy:"5",r:"2"}),c.a.createElement("circle",{id:"oval2",transform:"matrix(-1 0 0 1 4 0)",cx:"2",cy:"2",r:"2"})),c.a.createElement("g",{id:"grp1",opacity:"0",transform:"translate(24)",fill:"#9FC7FA"},c.a.createElement("circle",{id:"oval1",cx:"2.5",cy:"3",r:"2"}),c.a.createElement("circle",{id:"oval2",cx:"7.5",cy:"2",r:"2"}))))))))},At=function(e){var t=e.data,n=Object(r.useState)(!1),a=Object(s.a)(n,2),i=a[0],o=a[1],l=Object(we.e)((function(e){return e.cart.addToCart})),u=Object(r.useState)(0),m=Object(s.a)(u,2),d=m[0],f=m[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(zt,{clicked:i},"Movie added to cart! \ud83e\udd73"),c.a.createElement(bt,null,c.a.createElement(gt,{to:"/movie/".concat(t.id)},c.a.createElement(vt,{src:t.cover,alt:"Movie cover"})),c.a.createElement(Et,null,t.name),c.a.createElement(ht,null,t.availableIn[d].price,c.a.createElement(Ot.a,{size:"22"})),c.a.createElement(xt,null,c.a.createElement(ft,{onChange:function(e){f(e.target.selectedIndex)}},t.availableIn.map((function(e){return c.a.createElement(pt,{key:e.format},e.format)}))),c.a.createElement(Ft,{movieId:t.id}),c.a.createElement(jt,{onClick:function(){l({movieId:t.id,name:t.name,format:t.availableIn[d].format,price:t.availableIn[d].price}),o(!0),setTimeout((function(){o(!1)}),2700)}},c.a.createElement(yt.a,{size:"20",title:"Add to cart!"})))))},Mt=function(e){var t=e.totalMovies,n=e.moviesPerPage,a=e.paginate,r=e.curr,i=[],o=Math.ceil(t/n);if(0===o)return c.a.createElement("h1",{style:{textAlign:"center"}},"No movies to show!");for(var l=1;l<=o;l++)i.push(l);return c.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:"2rem 0"}},c.a.createElement(Qe,{onClick:function(){return r>1?a(--r):null}},"\xab"),i.map((function(e){return c.a.createElement(Qe,{key:e,active:r===e?"true":"false",onClick:function(){return a(e)}},e)})),c.a.createElement(Qe,{onClick:function(){return r<o?a(++r):null}},"\xbb"))},Dt=function(){var e=Object(r.useState)("All"),t=Object(s.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(1),o=Object(s.a)(i,2),l=o[0],u=o[1],m=Object(r.useState)(6),d=Object(s.a)(m,1)[0],f=Object(M.b)(Q),p=f.data,b=f.loading,g=f.error,v=Object(we.f)((function(e){return e.search.input}));if(Object(r.useEffect)((function(){u(1)}),[v]),b)return c.a.createElement("div",{className:"lds-ripple"},c.a.createElement("div",null),c.a.createElement("div",null));if(g)return console.log(g),c.a.createElement("div",null,"Error");var E=p.getMovies.filter((function(e){return e.genre===n||"All"===n})),h=""===v?E:E.filter((function(e){return e.name.toLowerCase().includes(v.toLowerCase())})),x=l*d,j=x-d,O=h.slice(j,x);return c.a.createElement(tt,null,c.a.createElement(ft,{onChange:function(e){a(e.target.value),u(1)},style:{display:"flex",margin:"1rem auto",fontSize:26}},["All","Action","Adventure","Animation","Drama","Horror","Romance","Thriller","Science Fiction"].map((function(e){return c.a.createElement(pt,{key:e,value:e},e)}))),c.a.createElement(nt,null,O.map((function(e){return c.a.createElement(at,{key:e.id},c.a.createElement(At,{data:e}))}))),c.a.createElement(Mt,{moviesPerPage:d,totalMovies:h.length,paginate:function(e){u(e)},curr:l}))};function Tt(){var e=Object(b.a)(["\n\t/* visibility: ","; */\n\tdisplay: ",";\n\twidth: 100%;\n\toverflow: hidden;\n\tanimation: "," 2s forwards;\n\ttransform:translateX(-100%);\n"]);return Tt=function(){return e},e}function $t(){var e=Object(b.a)(["\n\tto {\n\t\ttransform:translateX(0);\n\t}\n"]);return $t=function(){return e},e}function qt(){var e=Object(b.a)(["\n\twidth: 100%;\n\tpadding: 12px;\n\tborder: 1px solid #ccc;\n\tmargin-top: 6px;\n\tmargin-bottom: 16px;\n\tresize: vertical;\n"]);return qt=function(){return e},e}function Nt(){var e=Object(b.a)(["\n\twidth: 100%;\n\tmax-width: 400px;\n\theight: auto;\n\tmargin-top: 15px;\n\tborder-radius: 15px;\n"]);return Nt=function(){return e},e}function Ut(){var e=Object(b.a)(["\n\ttext-align: center;\n\tfont-size: 38px;\n\tmargin-top: 6px;\n\tmargin-bottom: 16px;\n"]);return Ut=function(){return e},e}function Lt(){var e=Object(b.a)(["\n\tfloat: left;\n\twidth: 50%;\n\tmargin-top: 6px;\n\tpadding: 20px;\n\t@media screen and (max-width: 768px) {\n\t\twidth: 100%;\n\t\tmargin-top: 0;\n\t}\n"]);return Lt=function(){return e},e}function Rt(){var e=Object(b.a)(['\n\t&:after {\n\t\tcontent: "";\n\t\tdisplay: table;\n\t\tclear: both;\n\t}\n']);return Rt=function(){return e},e}function Pt(){var e=Object(b.a)(["\n\tmax-width: 1200px;\n\tmargin: 0 auto;\n\tborder-radius: 5px;\n\tbackground-color: #f2f2f2;\n\tpadding: 10px;\n"]);return Pt=function(){return e},e}var Yt=g.a.div(Pt()),Bt=g.a.div(Rt()),Gt=g.a.div(Lt()),Wt=g.a.div(Ut()),Ht=g.a.img(Nt()),Jt=g.a.div(qt()),Qt=Object(g.b)($t()),Vt=g.a.div(Tt(),(function(e){return e.isLow?"visible":"hidden"}),(function(e){return e.isLow?"block":"none"}),Qt),Xt=function(){return c.a.createElement("section",{style:{textAlign:"center"}},c.a.createElement("h1",null,"Uh oh!"),c.a.createElement("p",null,"Page can't be found."),c.a.createElement(v.b,{to:"/"},"Back Home"))},_t=function(e){var t=e.match,n=Object(r.useState)(!1),a=Object(s.a)(n,2),i=a[0],o=a[1],l=Object(we.e)((function(e){return e.cart.addToCart})),u=Object(r.useState)(0),m=Object(s.a)(u,2),d=m[0],f=m[1],p=Object(M.b)(J,{variables:{movieId:t.params.id}}),b=p.data,g=p.loading,v=p.error;if(g)return c.a.createElement("div",{className:"lds-ripple"},c.a.createElement("div",null),c.a.createElement("div",null));if(v)return c.a.createElement(Xt,null);return c.a.createElement(c.a.Fragment,null,c.a.createElement(zt,{clicked:i},"Movie added to cart! \ud83e\udd73"),c.a.createElement(Yt,null,c.a.createElement(Bt,null,c.a.createElement(Gt,null,c.a.createElement(Ht,{src:b.getMovie.cover}),c.a.createElement(ht,{style:{margin:"5%",textAlign:"center",maxWidth:"350px",fontSize:28}},b.getMovie.availableIn[d].price,c.a.createElement(Ot.a,{size:"22"})),c.a.createElement(xt,{style:{maxWidth:"400px"}},c.a.createElement(ft,{onChange:function(e){f(e.target.selectedIndex)}},b.getMovie.availableIn.map((function(e){return c.a.createElement(pt,{key:e.format},e.format)}))),c.a.createElement(Ft,{movieId:b.getMovie.id}),c.a.createElement(jt,{onClick:function(){l({movieId:b.getMovie.id,name:b.getMovie.name,format:b.getMovie.availableIn[d].format,price:b.getMovie.availableIn[d].price}),o(!0),setTimeout((function(){o(!1)}),2700)}},c.a.createElement(yt.a,{size:"20",title:"Add to cart!"}))),c.a.createElement(Vt,{isLow:b.getMovie.availableIn[d].stock<100},"Hurry up! there's only ".concat(b.getMovie.availableIn[d].stock," copies left!"))),c.a.createElement(Gt,null,c.a.createElement(Wt,null,c.a.createElement("b",null,b.getMovie.name)),c.a.createElement("label",{htmlFor:"dir"},c.a.createElement("b",null,"Director")),c.a.createElement(Jt,{id:"dir"},b.getMovie.director),c.a.createElement("label",{htmlFor:"cast"},c.a.createElement("b",null,"Cast")),c.a.createElement(Jt,{id:"cast"},b.getMovie.cast.map((function(e,t){return c.a.createElement("p",{key:t},e)}))),c.a.createElement("label",{htmlFor:"genre"},c.a.createElement("b",null,"Genre")),c.a.createElement(Jt,{id:"genre"},b.getMovie.genre),c.a.createElement("label",{htmlFor:"date"},c.a.createElement("b",null,"Release Year")),c.a.createElement(Jt,{id:"date"},b.getMovie.releaseDate),c.a.createElement("label",{htmlFor:"time"},c.a.createElement("b",null,"Runtime")),c.a.createElement(Jt,{id:"time"},b.getMovie.runtime),c.a.createElement("label",{htmlFor:"lang"},c.a.createElement("b",null,"Languages")),c.a.createElement(Jt,{id:"lang"},b.getMovie.language),c.a.createElement("label",{htmlFor:"desc"},c.a.createElement("b",null,"Description")),c.a.createElement(Jt,{id:"desc"},b.getMovie.description)))))};function Kt(){var e=Object(b.a)(["\n\tcolor: #000;\n\tfont-size: 35px;\n\tfont-weight: bold;\n\ttext-align: center;\n"]);return Kt=function(){return e},e}function Zt(){var e=Object(b.a)(["\n\tcolor: #000;\n\tfont-size: 35px;\n\tfont-weight: bold;\n\t&:hover,\n\t&:focus {\n\t\tcolor: red;\n\t\tcursor: pointer;\n\t}\n"]);return Zt=function(){return e},e}function en(){var e=Object(b.a)(["\n\t&:nth-child(even) {\n\t\tbackground: #d4f4f4;\n\t}\n"]);return en=function(){return e},e}function tn(){var e=Object(b.a)(["\n\ttext-align: left;\n\tpadding: 8px;\n"]);return tn=function(){return e},e}function nn(){var e=Object(b.a)(["\n\ttext-align: left;\n\tpadding: 8px;\n\tfont-size: 24px;\n"]);return nn=function(){return e},e}function an(){var e=Object(b.a)(["\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n\twidth: 75%;\n\tmargin: 15px auto;\n\tborder: 1px solid #ddd;\n"]);return an=function(){return e},e}var rn=g.a.table(an()),cn=g.a.th(nn()),on=g.a.td(tn()),ln=g.a.tr(en()),un=g.a.span(Zt()),mn=g.a.h1(Kt()),sn=function(e){var t=e.index,n=e.movieName,a=e.genre,r=e.movieId,i=e.updatedAt,o=e.remove;return c.a.createElement(ln,null,c.a.createElement(cn,{scope:"row"},t+1),c.a.createElement(on,null,c.a.createElement(v.b,{to:"/movie/".concat(r)},n)),c.a.createElement(on,null,c.a.createElement("span",null,a)),c.a.createElement(on,null,c.a.createElement(un,{onClick:function(){o(r)}},"\xd7")),c.a.createElement(on,null,i))},dn=function(){var e=Object(M.b)(B),t=e.data,n=e.loading,a=e.refetch,r=Object(M.a)(X),i=Object(s.a)(r,1)[0];if(n)return c.a.createElement("div",{className:"lds-ripple"},c.a.createElement("div",null),c.a.createElement("div",null));var o=function(){var e=Object(m.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t.getUser){e.next=4;break}return e.next=3,i({variables:{userId:t.getUser.id,movieId:n,active:!1}});case 3:a();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=t.getUser.wishlist.sort((function(e,t){return new Date(t.updatedAt)-new Date(e.updatedAt)}));return l.length>0?c.a.createElement("div",{style:{overflowX:"auto"}},c.a.createElement(rn,null,c.a.createElement("thead",null,c.a.createElement(ln,null,c.a.createElement(cn,null,"#"),c.a.createElement(cn,null,"Movie's Name"),c.a.createElement(cn,null,"Genre"),c.a.createElement(cn,null,"Unwish"),c.a.createElement(cn,null,"Date Added"))),c.a.createElement("tbody",null,l.map((function(e,t){return c.a.createElement(sn,{key:t,index:t,movieName:e.movie.name,genre:e.movie.genre,movieId:e.movie.id,updatedAt:e.updatedAt,remove:o})}))))):c.a.createElement(mn,null,"You have 0 wishes!!")},fn=n(36);function pn(){var e=Object(b.a)(["\n\tfloat: right;\n\tcolor: ",";\n"]);return pn=function(){return e},e}function bn(){var e=Object(b.a)(["\n\tbackground-color: tomato;\n\tcolor: white;\n\tpadding: 12px;\n\tmargin: 10px 0;\n\tborder: none;\n\twidth: 100%;\n\tborder-radius: 3px;\n\tcursor: pointer;\n\tfont-size: 17px;\n\t&:hover {\n\t\tbackground-color: #cc4f38;\n\t}\n"]);return bn=function(){return e},e}function gn(){var e=Object(b.a)(["\n\tmargin-bottom: 20px;\n\tpadding: 7px 0;\n\tfont-size: 24px;\n"]);return gn=function(){return e},e}function vn(){var e=Object(b.a)(["\n\tmargin-bottom: 10px;\n\tdisplay: block;\n\tfont-weight: bold;\n"]);return vn=function(){return e},e}function En(){var e=Object(b.a)(["\n\twidth: 100%;\n\tmargin-bottom: 20px;\n\tpadding: 12px;\n\tborder: 1px solid #ccc;\n\tborder-radius: 3px;\n"]);return En=function(){return e},e}function hn(){var e=Object(b.a)(["\n\tflex: ",";\n\tpadding: 0 16px;\n\t@media screen and (max-width: 800px) {\n\t\tmargin-bottom: ",";\n\t}\n"]);return hn=function(){return e},e}function xn(){var e=Object(b.a)(["\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tmargin: 10px 16px;\n\t@media screen and (max-width: 768px) {\n\t\tflex-direction: column-reverse;\n\t}\n"]);return xn=function(){return e},e}function jn(){var e=Object(b.a)(["\n\tbackground-color: #f2f2f2;\n\tpadding: 5px 20px 15px 20px;\n\tborder: 1px solid lightgrey;\n\tborder-radius: 3px;\n"]);return jn=function(){return e},e}var On=g.a.div(jn()),yn=g.a.div(xn()),wn=g.a.div(hn(),(function(e){return e.perc}),(function(e){return"25%"===e.perc?"20px":""})),kn=g.a.input(En()),Cn=g.a.label(vn()),In=g.a.div(gn()),Sn=g.a.button(bn()),zn=g.a.span(pn(),(function(e){return e.color})),Fn=function(){var e=Object(r.useReducer)((function(e,t){var n=t.name,r=t.value;return Object(a.a)({},e,Object(fn.a)({},n,r))}),{name:"",releaseDate:"",desc:"",director:"",cast:[],genre:"",runtime:0,language:"",avail:[],cover:""}),t=Object(s.a)(e,2),n=t[0],i=t[1],o=function(e){i({name:e.target.name,value:e.target.value})},l=Object(r.useState)(!1),d=Object(s.a)(l,2),f=d[0],p=d[1],b=Object(r.useState)(null),g=Object(s.a)(b,2),v=g[0],E=g[1],h=Object(M.a)(V),x=Object(s.a)(h,1)[0],j=function(e){O.current&&!O.current.contains(e.target)&&(p(!1),E(null))},O=Object(r.useRef)(null);return Object(r.useEffect)((function(){return document.addEventListener("mousedown",j),function(){document.removeEventListener("mousedown",j)}}),[O]),c.a.createElement(c.a.Fragment,null,c.a.createElement(Oe,{onClick:function(){return p(!0)}},"Add a Movie"),c.a.createElement(me,{modal:f},c.a.createElement(de,{ref:O,onSubmit:function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,x({variables:Object(a.a)({},n)});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),E(e.t0.graphQLErrors[0].message);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()},c.a.createElement(fe,null,c.a.createElement(be,{onClick:function(){p(!1),E(null)},title:"Close"},"\xd7"),c.a.createElement(pe,{src:"/images/popcorn.png",alt:"popcorn"})),c.a.createElement(ge,null,v?c.a.createElement(je,null,c.a.createElement("strong",null,v)):null,c.a.createElement(yn,null,c.a.createElement(wn,{perc:"50%"},c.a.createElement("label",{htmlFor:"email"},c.a.createElement("strong",null,"Name:")),c.a.createElement(Ee,{type:"text",value:n.name,placeholder:"Enter name",name:"name",onChange:o,required:!0}),c.a.createElement("label",{htmlFor:"releaseDate"},c.a.createElement("strong",null,"Year of Release:")),c.a.createElement(Ee,{type:"text",value:n.releaseDate,placeholder:"Enter Year",name:"releaseDate",onChange:o,required:!0}),c.a.createElement("label",{htmlFor:"description"},c.a.createElement("strong",null,"Description:")),c.a.createElement(he,{value:n.description,placeholder:"Enter Description",name:"description",onChange:o,required:!0}),c.a.createElement("label",{htmlFor:"director"},c.a.createElement("strong",null,"Director:")),c.a.createElement(Ee,{type:"text",value:n.director,placeholder:"Enter Director",name:"director",onChange:o,required:!0}),c.a.createElement("label",{htmlFor:"cast"},c.a.createElement("strong",null,"Cast:")),c.a.createElement(Ee,{type:"text",value:n.cast,placeholder:"Enter Cast",name:"cast",onChange:o,required:!0})),c.a.createElement(wn,{perc:"50%"},c.a.createElement("label",{htmlFor:"genre"},c.a.createElement("strong",null,"Genre:")),c.a.createElement(Ee,{type:"text",value:n.genre,placeholder:"Enter Genre",name:"genre",onChange:o,required:!0}),c.a.createElement("label",{htmlFor:"runtime"},c.a.createElement("strong",null,"Runtime:")),c.a.createElement(Ee,{type:"number",value:n.runtime,placeholder:"Enter Runtime",name:"runtime",onChange:o,required:!0}),c.a.createElement("label",{htmlFor:"language"},c.a.createElement("strong",null,"Language:")),c.a.createElement(Ee,{type:"text",value:n.language,placeholder:"Enter Language",name:"language",onChange:o,required:!0}),c.a.createElement("label",{htmlFor:"avail"},c.a.createElement("strong",null,"Available In:")),c.a.createElement(Ee,{type:"text",value:n.avail,placeholder:"Enter Avail",name:"avail",onChange:o,required:!0}),c.a.createElement("label",{htmlFor:"cover"},c.a.createElement("strong",null,"Cover:")),c.a.createElement(Ee,{type:"text",value:n.cover,placeholder:"Enter Cover, use bit.ly",name:"cover",onChange:o,required:!0}))),c.a.createElement(ve,{type:"submit"},"Add a Movie")))))},An=function(){return c.a.createElement("div",{style:{marginTop:"20px"}},c.a.createElement(Fn,null),c.a.createElement(Oe,null,"Update a Movie"),c.a.createElement(Oe,null,"Change user authorization"))},Mn=n(86),Dn=n(87),Tn=function(){return c.a.createElement(Je,null,c.a.createElement(Mn.a,{size:"18"})," with ",c.a.createElement(Dn.a,{size:"18"})," by Daniel Mimoun")};function $n(){var e=Object(b.a)(["\n\tposition: absolute;\n\ttop: -10px;\n\tright: -10px;\n\tpadding: 4px 8px;\n\tborder-radius: 50%;\n\tbackground: tomato;\n\tcolor: white;\n\tfont-size: 14px;\n"]);return $n=function(){return e},e}function qn(){var e=Object(b.a)(["\n\tposition: fixed;\n\tmargin-left: ",";\n\ttransition: 0.5s;\n\tbottom: 20px;\n\tleft: 30px;\n\tz-index: 99;\n\tborder: none;\n\toutline: none;\n\tbackground-color: white;\n\tbox-shadow: 0 5px 10px 0 rgba(0, 0, 0, 0.4);\n\tcolor: black;\n\tcursor: pointer;\n\tpadding: 15px;\n\tborder-radius: 10px;\n\tfont-size: 18px;\n\t&:hover {\n\t\tbackground-color: #555;\n\t}\n"]);return qn=function(){return e},e}function Nn(){var e=Object(b.a)(['\n\tmargin-left: "5px";\n\twidth: 50%;\n']);return Nn=function(){return e},e}function Un(){var e=Object(b.a)(["\n\tdisplay: flex;\n\tmargin: 0 0 0 auto;\n\tfont-size: 16px;\n"]);return Un=function(){return e},e}function Ln(){var e=Object(b.a)(["\n\tdisplay: flex;\n\tmargin: 0 0 0 auto;\n\tfont-size: 16px;\n"]);return Ln=function(){return e},e}function Rn(){var e=Object(b.a)(["\n\tdisplay: block;\n\ttext-decoration: none;\n\tfont-size: 14px;\n\t/* width: 25%; */\n\tcolor: #2196f3;\n\ttransition: 0.3s;\n\t&:hover {\n\t\tcolor: #7bbcf1;\n\t}\n"]);return Rn=function(){return e},e}function Pn(){var e=Object(b.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tpadding: 8px 8px 8px 32px;\n\t@media screen and (max-height: 450px) {\n\t\tpadding-top: 18px;\n\t}\n"]);return Pn=function(){return e},e}function Yn(){var e=Object(b.a)(["\n\tposition: absolute;\n\tleft: 25px;\n\ttop: 8px;\n\tcolor: #000;\n\tfont-size: 20px;\n\tfont-weight: bold;\n"]);return Yn=function(){return e},e}function Bn(){var e=Object(b.a)(["\n\theight: 100%;\n\twidth: ",';\n\tposition: fixed;\n\tz-index: 1;\n\ttop: 0;\n\tleft: 0;\n\tbackground-color: white;\n\tfont-family: "Gotu", sans-serif;\n\toverflow-x: hidden;\n\ttransition: 0.5s;\n\tpadding-top: 60px;\n\t@media screen and (max-height: 450px) {\n\t\tpadding-top: 15px;\n\t}\n']);return Bn=function(){return e},e}var Gn=g.a.div(Bn(),(function(e){return e.sideNav?"350px":0})),Wn=g.a.h4(Yn()),Hn=g.a.div(Pn()),Jn=Object(g.a)(v.b)(Rn()),Qn=Object(g.a)(un)(Ln()),Vn=g.a.span(Un()),Xn=g.a.input(Nn()),_n=g.a.button(qn(),(function(e){return e.sideNav?"350px":0})),Kn=g.a.span($n()),Zn=n(88),ea=function(e){var t=e.id,n=e.name,a=e.format,r=e.price,i=e.quantity,o=Object(we.e)((function(e){return e.cart.addToCart})),l=Object(we.e)((function(e){return e.cart.removeFromCart}));return c.a.createElement(Hn,null,c.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},c.a.createElement(Jn,{to:"/movie/".concat(t)},n),c.a.createElement("span",{style:{marginLeft:"5px",fontSize:"12px"}},a),c.a.createElement(Xn,{type:"number",id:"quantity",name:"quantity",min:"1",max:"9",onKeyDown:function(e){return e.preventDefault()},value:i,onChange:function(e){o({movieId:t,name:n,format:a,price:r,quantity:parseInt(e.target.value)})}})),c.a.createElement(Qn,{onClick:function(){return l({movieId:t,format:a})}},"\xd7"),c.a.createElement(Vn,null,r*i))},ta=function(){var e=Object(we.f)((function(e){return e.cart})),t=Object(we.f)((function(e){return e.layout.sideNav})),n=Object(we.e)((function(e){return e.layout.setSideNav})),a=Object(we.e)((function(e){return e.cart.removeFromCart})),r=function(){n(!t)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(_n,{onClick:r,sideNav:t},c.a.createElement(Kn,null,e.count),c.a.createElement(Zn.a,{size:"20"})),c.a.createElement(Gn,{sideNav:t},c.a.createElement(Wn,null,"My Cart:"),c.a.createElement(be,{onClick:r,title:"Close"},"\xd7"),c.a.createElement("hr",null),e.cart.map((function(e){return c.a.createElement(ea,{key:e.movieId+e.format,id:e.movieId,name:e.name,format:e.format,price:e.price,quantity:e.quantity})})),c.a.createElement("hr",{style:{marginTop:"120%"}}),c.a.createElement(Vn,{style:{margin:"auto",justifyContent:"center"}},c.a.createElement("strong",null,e.sumPrice,c.a.createElement(Ot.a,{size:"16"}))),c.a.createElement(Jn,{to:"/checkout",style:{textAlign:"center",margin:"5% 0"},onClick:r},"Go to Checkout"),c.a.createElement(Jn,{to:"#",style:{textAlign:"center"},onClick:function(){return a("all")}},"Remove All Items")))},na=n(89),aa=n(90),ra=n(91),ca=n(92),ia=n(97),oa=n(93),la=n(94),ua=n(95),ma=n(96),sa=function(e){var t=e.history,n=Object(we.f)((function(e){return e.cart})),a=Object(we.e)((function(e){return e.cart}));if(0===n.count)return c.a.createElement("h1",{style:{textAlign:"center"}},"Your cart is empty!! Go get some movies!");return c.a.createElement(yn,null,c.a.createElement(wn,{perc:"75%"},c.a.createElement(On,null,c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a.removeFromCart("all"),a.setThankYou(!0),setTimeout((function(){a.setThankYou(!1)}),1e4),t.push("/thank-you")}},c.a.createElement(yn,null,c.a.createElement(wn,{perc:"50%"},c.a.createElement("h3",null,"Billing Address"),c.a.createElement(Cn,{htmlFor:"fname"},c.a.createElement(na.a,{size:"16"})," Full Name"),c.a.createElement(kn,{type:"text",id:"fname",name:"firstname",placeholder:"Frodo Baggins",required:!0}),c.a.createElement(Cn,{htmlFor:"email"},c.a.createElement(aa.a,{size:"16"})," Email"),c.a.createElement(kn,{type:"email",id:"email",name:"email",placeholder:"frodo@ringbearer.com",required:!0}),c.a.createElement(Cn,{htmlFor:"adr"},c.a.createElement(ra.a,{size:"16"})," Address"),c.a.createElement(kn,{type:"text",id:"adr",name:"address",placeholder:"Bag End",disabled:!0}),c.a.createElement(Cn,{htmlFor:"city"},c.a.createElement(ca.a,{size:"16"})," City"),c.a.createElement(kn,{type:"text",id:"city",name:"city",placeholder:"The Shire",disabled:!0}),c.a.createElement(Cn,{htmlFor:"zip"},"Zip"),c.a.createElement(kn,{type:"text",id:"zip",name:"zip",placeholder:"10001",disabled:!0})),c.a.createElement(wn,{perc:"50%"},c.a.createElement("h3",null,"Payment"),c.a.createElement(Cn,{htmlFor:"cards"},"Accepted Cards"),c.a.createElement(In,null,c.a.createElement(oa.a,{size:"24",color:"navy"}),c.a.createElement(la.a,{size:"24",color:"red"}),c.a.createElement(ua.a,{size:"24",color:"blue"}),c.a.createElement(ma.a,{size:"24"})),c.a.createElement(Cn,{htmlFor:"cname"},"Name on Card"),c.a.createElement(kn,{type:"text",id:"cname",name:"cardname",placeholder:"Frodo Baggins",disabled:!0}),c.a.createElement(Cn,{htmlFor:"ccnum"},"Credit card number"),c.a.createElement(kn,{type:"text",id:"ccnum",name:"cardnumber",placeholder:"1111-2222-3333-4444",disabled:!0}),c.a.createElement(Cn,{htmlFor:"expdate"},"Exp Date"),c.a.createElement(kn,{type:"month",id:"expdate",name:"expdate",placeholder:"09/22",disabled:!0}),c.a.createElement(Cn,{htmlFor:"cvv"},"CVV"),c.a.createElement(kn,{type:"text",id:"cvv",name:"cvv",placeholder:"123",disabled:!0}))),c.a.createElement(Sn,{type:"submit"},"Continue to Checkout")))),c.a.createElement(wn,{perc:"25%"},c.a.createElement(On,null,c.a.createElement("h4",null,"Cart"," ",c.a.createElement(zn,{color:"black"},c.a.createElement(ia.a,{size:"18"})," ",c.a.createElement("b",null,n.count))),n.cart.map((function(e){return c.a.createElement("p",{key:e.movieId+e.format},c.a.createElement(v.b,{to:"/movie/".concat(e.movieId)},e.name)," ",c.a.createElement("span",null,e.format),c.a.createElement(zn,{color:"grey"},c.a.createElement("b",null,e.quantity)," - "+e.price,c.a.createElement(Ot.a,{size:"12"})))})),c.a.createElement("hr",{style:{border:"1px solid lightgrey"}}),c.a.createElement("p",null,"Total"," ",c.a.createElement(zn,{color:"black"},n.sumPrice,c.a.createElement(Ot.a,{size:"12"}))))))},da=function(){return c.a.createElement("section",{style:{textAlign:"center"}},c.a.createElement("h1",null,"Thank you so much for your purchase!"),c.a.createElement("p",null,"You will be redirected to our homepage in a few seconds..."),c.a.createElement(v.b,{to:"/"},"Back Home"))},fa=function(e){var t=e.component,n=e.role,a=Object(d.a)(e,["component","role"]),r=Object(M.b)(B),i=r.data,o=r.loading;if(o)return c.a.createElement("div",null,"Loading...");var l=i&&i.getUser&&!o?i.getUser.admin?"ADMIN":"USER":null;return c.a.createElement(f.b,Object.assign({},a,{render:function(e){return!l||n!==l&&"ADMIN"!==l?c.a.createElement(f.a,{to:{pathname:"/",state:{from:e.location}}}):c.a.createElement(t,e)}}))},pa=function(){var e=Object(we.f)((function(e){return e.cart.thankYou}));return c.a.createElement(f.b,{path:"/thank-you",render:function(t){return e?c.a.createElement(da,null):c.a.createElement(f.a,{to:{pathname:"/",state:{from:t.location}}})}})},ba=function(){var e=Object(we.f)((function(e){return e.layout.sideNav})),t=Object(we.e)((function(e){return e.layout.setSideNav}));return c.a.createElement(c.a.Fragment,null,c.a.createElement(Re,{sideNav:e},c.a.createElement(Pe,{sideNav:e,onClick:function(){return t(!1)}}),c.a.createElement(Fe,null),c.a.createElement(Ve,null),c.a.createElement(Ye,null,c.a.createElement(f.d,null,c.a.createElement(f.b,{exact:!0,path:"/",component:Xe}),c.a.createElement(f.b,{exact:!0,path:"/movies",component:Dt}),c.a.createElement(f.b,{exact:!0,path:"/movie/:id",component:_t}),c.a.createElement(fa,{path:"/wishlist",role:"USER",component:dn}),c.a.createElement(fa,{path:"/admin-section",role:"ADMIN",component:An}),c.a.createElement(f.b,{path:"/checkout",component:sa}),c.a.createElement(pa,null),c.a.createElement(f.b,{component:Xt}))),c.a.createElement(Tn,null)),c.a.createElement(ta,null))},ga=function(){var e=Object(r.useState)(!0),t=Object(s.a)(e,2),n=t[0],a=t[1],i=Object(we.e)((function(e){return e.user.setAccessToken}));return Object(r.useEffect)((function(){fetch("https://movie-affiliates.herokuapp.com/refresh_token",{method:"POST",credentials:"include"}).then(function(){var e=Object(m.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,r=n.accessToken,i(r),a(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[i]),n?c.a.createElement("div",null,"Loading..."):c.a.createElement(ba,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var va=n(16),Ea=n(26),ha=n(59),xa=n(57),ja=n(58),Oa=n(14),ya=n(60),wa=n(56),ka=n.n(wa),Ca=JSON.parse(localStorage.getItem("cart"));Ca||(Ca=[]);var Ia={cart:{cart:Ca,addToCart:Object(we.b)((function(e,t){var n,r=!1;for(n=0;n<e.cart.length&&!r;n++)e.cart[n].movieId===t.movieId&&e.cart[n].format===t.format&&(r=!0);r?e.cart[n-1].quantity<10&&(e.cart[n-1].quantity=t.quantity?t.quantity:e.cart[n-1].quantity+1):e.cart.push(Object(a.a)({},t,{quantity:1})),localStorage.setItem("cart",JSON.stringify(e.cart))})),removeFromCart:Object(we.b)((function(e,t){"all"===t?(e.cart=[],localStorage.removeItem("cart")):(e.cart=e.cart.filter((function(e){return e.movieId!==t.movieId||e.format!==t.format})),localStorage.setItem("cart",JSON.stringify(e.cart)))})),count:Object(we.c)((function(e){return e.cart.reduce((function(e,t){return e+t.quantity}),0)})),sumPrice:Object(we.c)((function(e){return 0===e.count?0:e.cart.reduce((function(e,t){return e+parseInt(t.price)*t.quantity}),0)})),thankYou:!1,setThankYou:Object(we.b)((function(e,t){e.thankYou=t}))},layout:{sideNav:!1,setSideNav:Object(we.b)((function(e,t){e.sideNav=t}))},search:{input:"",setInput:Object(we.b)((function(e,t){e.input=t}))},user:{accessToken:"",setAccessToken:Object(we.b)((function(e,t){e.accessToken=t}))}},Sa=Object(we.d)(Ia),za=Object(ha.a)({uri:"/graphql",credentials:"include"}),Fa=Object(xa.a)((function(e,t){var n=t.headers,r=Sa.getState().user.accessToken;return{headers:Object(a.a)({},n,{Authorization:r?"Bearer ".concat(r):""})}})),Aa=new Ea.a({link:Oa.a.from([new ya.a({accessTokenField:"accessToken",isTokenValidOrUndefined:function(){var e=Sa.getState().user.accessToken;if(!e)return!0;try{var t=ka()(e).exp;return!(Date.now()>=1e3*t)}catch(n){return!1}},fetchAccessToken:function(){return fetch("https://movie-affiliates.herokuapp.com/refresh_token",{method:"POST",credentials:"include"})},handleFetch:function(e){Sa.getActions().user.setAccessToken(e)},handleError:function(e){console.warn("Your refresh token is invalid. Try to relogin"),console.error(e)}}),Fa,za]),cache:new ja.a});o.a.render(c.a.createElement(v.a,null,c.a.createElement(va.a,{client:Aa},c.a.createElement(we.a,{store:Sa},c.a.createElement(ga,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[62,1,2]]]);
//# sourceMappingURL=main.0137b842.chunk.js.map