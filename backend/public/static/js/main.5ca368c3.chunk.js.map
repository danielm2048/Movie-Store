{"version":3,"sources":["style/Logo.png","style/styledNavbar.js","graphql/gqlDocs.js","style/styledModal.js","Components/auth/Login.js","Components/auth/Register.js","Components/auth/Logout.js","Components/layout/NavBar.js","style/styledLayout.js","Components/layout/Header.js","Components/Home.js","style/styledList.js","style/styledCard.js","style/styledToast.js","Components/heart/Heart.js","Components/movies/Movie.js","Components/layout/Pagination.js","Components/movies/MovieList.js","style/StyledMoviePage.js","Components/PageNotFound.js","Components/movies/MoviePage.js","style/styledWishlist.js","Components/user/Wishlist.js","style/styledCheckout.js","Components/admin/AddMovie.js","Components/admin/AdminSection.js","Components/layout/Footer.js","style/styledSideNav.js","Components/cart/CartSideBar.js","Components/cart/Checkout.js","Components/user/ThankYou.js","Routes.js","App.js","serviceWorker.js","store.js","index.js"],"names":["module","exports","Nav","styled","ul","NavItem","li","props","right","StyledNavLink","NavLink","active","SearchForm","form","AnimatedSearch","input","GET_USER","gql","LOGIN","REGISTER","LOGOUT","GET_MOVIE","GET_MOVIES","ADD_MOVIE","WISH","Modal","div","modal","animatezoom","keyframes","ModalContent","ModalImgContainer","ModalImg","img","Close","span","ModalActions","ModalButton","button","ModalInput","ModalTextArea","textarea","errorAnimate","ModalError","AdminButton","Login","setAccessToken","useStoreActions","actions","user","useState","email","setEmail","password","setPassword","setModal","error","setError","useMutation","login","handleClickOutside","event","ref","current","contains","target","useRef","useEffect","document","addEventListener","removeEventListener","onClick","to","size","title","onSubmit","e","a","preventDefault","variables","update","store","data","writeQuery","query","getUser","loginUser","res","accessToken","graphQLErrors","message","src","alt","htmlFor","type","value","placeholder","name","onChange","required","Register","username","setUsername","signup","signupUser","Logout","logout","client","resetStore","NavBar","useQuery","loading","searchInput","useStoreState","state","search","setInput","authLinks","Fragment","adminLinks","guestLinks","style","padding","logo","height","width","admin","autoComplete","Main","sideNav","Canvas","Content","About","p","HeaderDiv","HeaderTitle","h1","HeaderCredit","StyledFooter","footer","StyledPagination","withRouter","history","location","pathname","href","Home","about","Container","List","Item","Select","select","Option","option","Card","CardImgLink","Link","CardImg","CardTitle","h3","CardPrice","h4","CardActions","CardButton","fadein","fadeout","Toast","clicked","Heart","movieId","check","setCheck","isToast","setToast","dataUser","refetch","wish","flag","wishlist","filter","w","movie","id","length","toggle","userId","setTimeout","checked","viewBox","xmlns","fill","fillRule","transform","d","opacity","cx","cy","r","Movie","cartAdd","setCartAdd","addToCart","cart","avail","setAvail","cover","availableIn","price","selectedIndex","map","available","key","format","Pagination","totalMovies","moviesPerPage","paginate","curr","pageNumbers","maxPages","Math","ceil","i","push","display","justifyContent","margin","MovieList","genre","setGenre","currentPage","setCurrentPage","className","console","log","moviesToRender","getMovies","toLowerCase","includes","indexOfLastMovie","indexOfFirstMovie","currentMovies","slice","fontSize","g","pageNumber","MoviePageContainer","MoviePageRow","MoviePageColumn","MoviePageTitle","MovieImg","MovieDetail","slideRight","MovieWarning","isLow","PageNotFound","textAlign","MoviePage","match","params","getMovie","maxWidth","stock","director","cast","c","releaseDate","runtime","language","description","Table","table","TH","th","TD","td","TR","tr","Unwish","Warning","TableItem","index","movieName","updatedAt","remove","scope","Wishlist","loadUser","unwish","wishedMovies","sort","b","Date","overflowX","Box","Row","Col","perc","Field","Label","label","IconContainer","BuyButton","Price","color","AddMovie","useReducer","desc","dispatch","add","AdminSection","marginTop","Footer","SideNav","SideNavTitle","SideItem","SideLink","Remove","SidePrice","SideQuantity","SideNavTrigger","Badge","CartItem","quantity","setQuantity","removeFromCart","flexDirection","marginLeft","min","max","onKeyDown","parseInt","CartSideBar","layout","setSideNav","trigger","count","item","sumPrice","Checkout","cartActions","setThankYou","disabled","border","ThankYou","PrivateRoute","Component","component","role","rest","userType","render","from","ThankYouRoute","auth","thankYou","path","Routes","exact","App","setLoading","fetch","method","credentials","then","x","json","Boolean","window","hostname","JSON","parse","localStorage","getItem","storeModel","action","payload","found","setItem","stringify","removeItem","computed","reduce","accu","createStore","httpLink","createHttpLink","uri","authLink","setContext","_","headers","getState","Authorization","ApolloClient","link","ApolloLink","TokenRefreshLink","accessTokenField","isTokenValidOrUndefined","token","exp","jwtDecode","now","fetchAccessToken","handleFetch","getActions","handleError","err","warn","cache","InMemoryCache","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.5ca368c3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Logo.b9d3e384.png\";","import styled from \"styled-components\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nexport const Nav = styled.ul`\r\n\tlist-style-type: none;\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n\toverflow: hidden;\r\n\t/* background-color: #f0f2f3; */\r\n`;\r\n\r\nexport const NavItem = styled.li`\r\n\tfloat: ${(props) => (props.right ? \"right\" : \"left\")};\r\n\t@media screen and (max-width: 768px) {\r\n\t\tfloat: none;\r\n\t}\r\n`;\r\n\r\nexport const StyledNavLink = styled(NavLink)`\r\n\tdisplay: block;\r\n\tcolor: black;\r\n\tfont-family: \"Roboto\", sans-serif;\r\n\t/* font-weight: 700; */\r\n\ttext-align: center;\r\n\tpadding: 45px 28px;\r\n\tfont-size: 23px;\r\n\ttext-decoration: none;\r\n\tbackground-color: ${(props) => (props.active ? \"#777\" : \"none\")};\r\n\t&:hover {\r\n\t\tbackground-color: ${(props) => (!props.active ? \"#999\" : \"none\")};\r\n\t}\r\n\t@media screen and (max-width: 768px) {\r\n\t\tpadding: 25px 28px;\r\n\t}\r\n`;\r\n\r\nexport const SearchForm = styled.form`\r\n\tdisplay: block;\r\n\tpadding: 35px 28px;\r\n\tmargin: auto;\r\n\t&::after {\r\n\t\tcontent: \"\";\r\n\t\tclear: both;\r\n\t\tdisplay: table;\r\n\t}\r\n\t@media screen and (max-width: 768px) {\r\n\t\tpadding: 15px 28px;\r\n\t}\r\n`;\r\n\r\nexport const AnimatedSearch = styled.input`\r\n\twidth: 130px;\r\n\tbox-sizing: border-box;\r\n\tborder: 2px solid #ccc;\r\n\tborder-radius: 4px;\r\n\tfont-size: 16px;\r\n\tbackground-color: white;\r\n\tbackground-image: url(\"/images/search.png\");\r\n\tbackground-position: 10px 10px;\r\n\tbackground-size: 22px;\r\n\tbackground-repeat: no-repeat;\r\n\tpadding: 12px 20px 12px 40px;\r\n\t-webkit-transition: width 0.4s ease-in-out;\r\n\ttransition: width 0.4s ease-in-out;\r\n\t&:focus {\r\n\t\twidth: 100%;\r\n\t}\r\n`;\r\n","import gql from \"graphql-tag\";\r\n\r\nexport const GET_USER = gql`\r\n\t{\r\n\t\tgetUser {\r\n\t\t\tid\r\n\t\t\tusername\r\n\t\t\temail\r\n\t\t\tadmin\r\n\t\t\twishlist {\r\n\t\t\t\tmovie {\r\n\t\t\t\t\tid\r\n\t\t\t\t\tname\r\n\t\t\t\t\tgenre\r\n\t\t\t\t}\r\n\t\t\t\tupdatedAt\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nexport const LOGIN = gql`\r\n\tmutation Login($email: String!, $password: String!) {\r\n\t\tloginUser(email: $email, password: $password) {\r\n\t\t\taccessToken\r\n\t\t\tuser {\r\n\t\t\t\tid\r\n\t\t\t\tusername\r\n\t\t\t\temail\r\n\t\t\t\tadmin\r\n\t\t\t\twishlist {\r\n\t\t\t\t\tmovie {\r\n\t\t\t\t\t\tid\r\n\t\t\t\t\t\tname\r\n\t\t\t\t\t\tgenre\r\n\t\t\t\t\t}\r\n\t\t\t\t\tupdatedAt\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nexport const REGISTER = gql`\r\n\tmutation Register($username: String!, $email: String!, $password: String!) {\r\n\t\tsignupUser(username: $username, email: $email, password: $password) {\r\n\t\t\taccessToken\r\n\t\t\tuser {\r\n\t\t\t\tid\r\n\t\t\t\tusername\r\n\t\t\t\temail\r\n\t\t\t\tadmin\r\n\t\t\t\twishlist {\r\n\t\t\t\t\tmovie {\r\n\t\t\t\t\t\tid\r\n\t\t\t\t\t\tname\r\n\t\t\t\t\t\tgenre\r\n\t\t\t\t\t}\r\n\t\t\t\t\tupdatedAt\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nexport const LOGOUT = gql`\r\n\tmutation Logout {\r\n\t\tlogoutUser\r\n\t}\r\n`;\r\n\r\nexport const GET_MOVIE = gql`\r\n\tquery GetMovie($movieId: String!) {\r\n\t\tgetMovie(movieId: $movieId) {\r\n\t\t\tid\r\n\t\t\tname\r\n\t\t\treleaseDate\r\n\t\t\tdescription\r\n\t\t\tdirector\r\n\t\t\tcast\r\n\t\t\tgenre\r\n\t\t\truntime\r\n\t\t\tlanguage\r\n\t\t\tavailableIn {\r\n\t\t\t\tformat\r\n\t\t\t\tprice\r\n\t\t\t\tstock\r\n\t\t\t}\r\n\t\t\tcover\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nexport const GET_MOVIES = gql`\r\n\t{\r\n\t\tgetMovies {\r\n\t\t\tid\r\n\t\t\tname\r\n\t\t\treleaseDate\r\n\t\t\tdescription\r\n\t\t\tdirector\r\n\t\t\tcast\r\n\t\t\tgenre\r\n\t\t\truntime\r\n\t\t\tlanguage\r\n\t\t\tavailableIn {\r\n\t\t\t\tformat\r\n\t\t\t\tprice\r\n\t\t\t\tstock\r\n\t\t\t}\r\n\t\t\tcover\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nexport const ADD_MOVIE = gql`\r\n\tmutation AddMovie(\r\n\t\t$name: String!\r\n\t\t$releaseDate: String!\r\n\t\t$description: String!\r\n\t\t$director: String!\r\n\t\t$cast: [String!]!\r\n\t\t$genre: String!\r\n\t\t$runtime: Int!\r\n\t\t$language: String!\r\n\t\t$availableIn: [AvailableInInput!]!\r\n\t\t$cover: String!\r\n\t) {\r\n\t\taddMovie(\r\n\t\t\tname: $name\r\n\t\t\treleaseDate: $releaseDate\r\n\t\t\tdescription: $description\r\n\t\t\tdirector: $director\r\n\t\t\tcast: $cast\r\n\t\t\tgenre: $genre\r\n\t\t\truntime: $runtime\r\n\t\t\tlanguage: $language\r\n\t\t\tavailableIn: $availableIn\r\n\t\t\tcover: $cover\r\n\t\t) {\r\n\t\t\tid\r\n\t\t\tcreatedAt\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nexport const WISH = gql`\r\n\tmutation WishMovie($userId: String!, $movieId: String!, $active: Boolean!) {\r\n\t\twishMovie(userId: $userId, movieId: $movieId, active: $active)\r\n\t}\r\n`;\r\n","import styled, { keyframes } from \"styled-components\";\r\n\r\nexport const Modal = styled.div`\r\n\tdisplay: ${(props) => (props.modal ? \"block\" : \"none\")};\r\n\tposition: fixed;\r\n\tz-index: 1;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\toverflow: auto;\r\n\tbackground-color: rgb(0, 0, 0);\r\n\tbackground-color: rgba(0, 0, 0, 0.4);\r\n\tpadding-top: 60px;\r\n\tfont-family: \"Gotu\", sans-serif;\r\n`;\r\n\r\nconst animatezoom = keyframes`\r\n  from {\r\n      transform: scale(0)\r\n    } \r\n  to {\r\n      transform: scale(1)\r\n    }\r\n`;\r\n\r\nexport const ModalContent = styled.form`\r\n\tbackground-color: #fefefe;\r\n\tmargin: 5% auto 15% auto;\r\n\tborder: 1px solid #888;\r\n\twidth: 40%;\r\n\t-webkit-animation: ${animatezoom} 0.6s;\r\n\tanimation: ${animatezoom} 0.6s;\r\n\t@media screen and (max-width: 768px) {\r\n\t\twidth: 80%;\r\n\t}\r\n`;\r\n\r\nexport const ModalImgContainer = styled.div`\r\n\ttext-align: center;\r\n\tmargin: 24px 0 12px 0;\r\n\tposition: relative;\r\n`;\r\n\r\nexport const ModalImg = styled.img`\r\n\twidth: 30%;\r\n\tborder-radius: 50%;\r\n`;\r\n\r\nexport const Close = styled.span`\r\n\tposition: absolute;\r\n\tright: 25px;\r\n\ttop: 0;\r\n\tcolor: #000;\r\n\tfont-size: 30px;\r\n\tfont-weight: bold;\r\n\t&:hover,\r\n\t&:focus {\r\n\t\tcolor: red;\r\n\t\tcursor: pointer;\r\n\t}\r\n`;\r\n\r\nexport const ModalActions = styled.div`\r\n\tpadding: 16px;\r\n`;\r\n\r\nexport const ModalButton = styled.button`\r\n\tbackground-color: tomato;\r\n\tcolor: white;\r\n\tpadding: 14px 20px;\r\n\tmargin: 8px 0;\r\n\tborder: none;\r\n\tborder-radius: 5px;\r\n\tcursor: pointer;\r\n\twidth: 100%;\r\n\t&:hover {\r\n\t\topacity: 0.8;\r\n\t}\r\n`;\r\n\r\nexport const ModalInput = styled.input`\r\n\twidth: 100%;\r\n\tpadding: 12px 20px;\r\n\tmargin: 8px 0;\r\n\tdisplay: inline-block;\r\n\tborder: 1px solid #ccc;\r\n`;\r\n\r\nexport const ModalTextArea = styled.textarea`\r\n\twidth: 100%;\r\n\tpadding: 12px 20px;\r\n\tmargin: 8px 0;\r\n\tdisplay: inline-block;\r\n\tborder: 1px solid #ccc;\r\n\tresize: vertical;\r\n`;\r\n\r\nconst errorAnimate = keyframes`\r\n    0% { opacity: 0;}\r\n    99% { opacity: 0.99;width: 100%; height: 100%;}\r\n    100% { opacity: 1;width: 100%; height: 100%;}\r\n`;\r\n\r\nexport const ModalError = styled.div`\r\n\twidth: 100%;\r\n\tpadding: 16px 20px;\r\n\tmargin: 12px 0;\r\n\tdisplay: inline-block;\r\n\t/* text-align: center; */\r\n\tbackground-color: #f44336;\r\n\tcolor: white;\r\n\tanimation: ${errorAnimate} 1s;\r\n`;\r\n\r\nexport const AdminButton = styled.button`\r\n\tdisplay: block;\r\n\twidth: 50%;\r\n\tborder: none;\r\n\tborder-radius: 10px;\r\n\tbackground-color: tomato;\r\n\tcolor: white;\r\n\tpadding: 14px 28px;\r\n\tmargin: 5px auto;\r\n\tfont-size: 16px;\r\n\tcursor: pointer;\r\n\ttext-align: center;\r\n\t&:hover {\r\n\t\tbackground-color: #cc4f38;\r\n\t}\r\n`;\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport { useMutation } from \"@apollo/react-hooks\";\r\nimport { LOGIN, GET_USER } from \"../../graphql/gqlDocs\";\r\nimport {\r\n\tModal,\r\n\tModalContent,\r\n\tModalImg,\r\n\tModalActions,\r\n\tModalInput,\r\n\tModalButton,\r\n\tModalImgContainer,\r\n\tClose,\r\n\tModalError,\r\n} from \"../../style/styledModal\";\r\nimport { NavItem, StyledNavLink } from \"../../style/styledNavbar\";\r\nimport { SignInAlt } from \"@styled-icons/fa-solid\";\r\nimport { useStoreActions } from \"easy-peasy\";\r\n\r\nconst Login = () => {\r\n\tconst setAccessToken = useStoreActions(\r\n\t\t(actions) => actions.user.setAccessToken\r\n\t);\r\n\r\n\tconst [email, setEmail] = useState(\"\");\r\n\tconst [password, setPassword] = useState(\"\");\r\n\tconst [modal, setModal] = useState(false);\r\n\tconst [error, setError] = useState(null);\r\n\r\n\tconst [login] = useMutation(LOGIN);\r\n\r\n\tconst toggle = () => {\r\n\t\tsetModal(false);\r\n\t\tsetEmail(\"\");\r\n\t\tsetPassword(\"\");\r\n\t\tsetError(null);\r\n\t};\r\n\r\n\tconst handleClickOutside = (event) => {\r\n\t\tif (ref.current && !ref.current.contains(event.target)) {\r\n\t\t\tsetModal(false);\r\n\t\t\tsetEmail(\"\");\r\n\t\t\tsetPassword(\"\");\r\n\t\t\tsetError(null);\r\n\t\t}\r\n\t};\r\n\r\n\tconst ref = useRef(null);\r\n\tuseEffect(() => {\r\n\t\tdocument.addEventListener(\"mousedown\", handleClickOutside);\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener(\"mousedown\", handleClickOutside);\r\n\t\t};\r\n\t}, [ref]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<NavItem right>\r\n\t\t\t\t<StyledNavLink onClick={() => setModal(true)} to=\"#\">\r\n\t\t\t\t\t<SignInAlt size=\"18\" title=\"Login\" />\r\n\t\t\t\t</StyledNavLink>\r\n\t\t\t</NavItem>\r\n\t\t\t<Modal modal={modal}>\r\n\t\t\t\t<ModalContent\r\n\t\t\t\t\tref={ref}\r\n\t\t\t\t\tonSubmit={async (e) => {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tconst res = await login({\r\n\t\t\t\t\t\t\t\tvariables: {\r\n\t\t\t\t\t\t\t\t\temail,\r\n\t\t\t\t\t\t\t\t\tpassword,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tupdate: (store, { data }) => {\r\n\t\t\t\t\t\t\t\t\tif (!data) {\r\n\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tstore.writeQuery({\r\n\t\t\t\t\t\t\t\t\t\tquery: GET_USER,\r\n\t\t\t\t\t\t\t\t\t\tdata: { getUser: data.loginUser.user },\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\tif (res && res.data) {\r\n\t\t\t\t\t\t\t\tsetAccessToken(res.data.loginUser.accessToken);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch (err) {\r\n\t\t\t\t\t\t\tsetError(err.graphQLErrors[0].message);\r\n\t\t\t\t\t\t\tsetEmail(\"\");\r\n\t\t\t\t\t\t\tsetPassword(\"\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<ModalImgContainer>\r\n\t\t\t\t\t\t<Close onClick={toggle} title=\"Close\">\r\n\t\t\t\t\t\t\t&times;\r\n\t\t\t\t\t\t</Close>\r\n\t\t\t\t\t\t<ModalImg src=\"/images/popcorn.png\" alt=\"popcorn\" />\r\n\t\t\t\t\t</ModalImgContainer>\r\n\t\t\t\t\t<ModalActions>\r\n\t\t\t\t\t\t{error ? (\r\n\t\t\t\t\t\t\t<ModalError>\r\n\t\t\t\t\t\t\t\t<strong>{error}</strong>\r\n\t\t\t\t\t\t\t</ModalError>\r\n\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t<label htmlFor=\"email\">\r\n\t\t\t\t\t\t\t<strong>Email:</strong>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<ModalInput\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\tplaceholder=\"Enter Email\"\r\n\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tsetEmail(e.target.value);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<label htmlFor=\"password\">\r\n\t\t\t\t\t\t\t<strong>Password:</strong>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<ModalInput\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\tplaceholder=\"Enter Password\"\r\n\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tsetPassword(e.target.value);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<ModalButton type=\"submit\">Login</ModalButton>\r\n\t\t\t\t\t</ModalActions>\r\n\t\t\t\t</ModalContent>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport { useMutation } from \"@apollo/react-hooks\";\r\nimport { REGISTER, GET_USER } from \"../../graphql/gqlDocs\";\r\nimport {\r\n\tModal,\r\n\tModalContent,\r\n\tModalImg,\r\n\tModalActions,\r\n\tModalInput,\r\n\tModalButton,\r\n\tModalImgContainer,\r\n\tClose,\r\n\tModalError,\r\n} from \"../../style/styledModal\";\r\nimport { NavItem, StyledNavLink } from \"../../style/styledNavbar\";\r\nimport { UserPlus } from \"@styled-icons/fa-solid\";\r\nimport { useStoreActions } from \"easy-peasy\";\r\n\r\nconst Register = () => {\r\n\tconst setAccessToken = useStoreActions(\r\n\t\t(actions) => actions.user.setAccessToken\r\n\t);\r\n\r\n\tconst [email, setEmail] = useState(\"\");\r\n\tconst [password, setPassword] = useState(\"\");\r\n\tconst [username, setUsername] = useState(\"\");\r\n\tconst [modal, setModal] = useState(\"\");\r\n\tconst [error, setError] = useState(null);\r\n\r\n\tconst [signup] = useMutation(REGISTER);\r\n\r\n\tconst toggle = () => {\r\n\t\tsetModal(false);\r\n\t\tsetEmail(\"\");\r\n\t\tsetPassword(\"\");\r\n\t\tsetUsername(\"\");\r\n\t\tsetError(null);\r\n\t};\r\n\r\n\tconst handleClickOutside = (event) => {\r\n\t\tif (ref.current && !ref.current.contains(event.target)) {\r\n\t\t\tsetModal(false);\r\n\t\t\tsetEmail(\"\");\r\n\t\t\tsetPassword(\"\");\r\n\t\t\tsetUsername(\"\");\r\n\t\t\tsetError(null);\r\n\t\t}\r\n\t};\r\n\r\n\tconst ref = useRef(null);\r\n\tuseEffect(() => {\r\n\t\tdocument.addEventListener(\"mousedown\", handleClickOutside);\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener(\"mousedown\", handleClickOutside);\r\n\t\t};\r\n\t}, [ref]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<NavItem right>\r\n\t\t\t\t<StyledNavLink onClick={() => setModal(true)} to=\"#\">\r\n\t\t\t\t\t<UserPlus size=\"18\" title=\"Register\" />\r\n\t\t\t\t</StyledNavLink>\r\n\t\t\t</NavItem>\r\n\t\t\t<Modal modal={modal}>\r\n\t\t\t\t<ModalContent\r\n\t\t\t\t\tref={ref}\r\n\t\t\t\t\tonSubmit={async (e) => {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tconst res = await signup({\r\n\t\t\t\t\t\t\t\tvariables: {\r\n\t\t\t\t\t\t\t\t\tusername,\r\n\t\t\t\t\t\t\t\t\temail,\r\n\t\t\t\t\t\t\t\t\tpassword,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tupdate: (store, { data }) => {\r\n\t\t\t\t\t\t\t\t\tif (!data) {\r\n\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tstore.writeQuery({\r\n\t\t\t\t\t\t\t\t\t\tquery: GET_USER,\r\n\t\t\t\t\t\t\t\t\t\tdata: { getUser: data.signupUser.user },\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\tif (res && res.data) {\r\n\t\t\t\t\t\t\t\tsetAccessToken(res.data.signupUser.accessToken);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch (err) {\r\n\t\t\t\t\t\t\tsetError(err.graphQLErrors[0].message);\r\n\t\t\t\t\t\t\tsetEmail(\"\");\r\n\t\t\t\t\t\t\tsetPassword(\"\");\r\n\t\t\t\t\t\t\tsetUsername(\"\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<ModalImgContainer>\r\n\t\t\t\t\t\t<Close onClick={toggle} title=\"Close\">\r\n\t\t\t\t\t\t\t&times;\r\n\t\t\t\t\t\t</Close>\r\n\t\t\t\t\t\t<ModalImg src=\"/images/popcorn.png\" alt=\"popcorn\" />\r\n\t\t\t\t\t</ModalImgContainer>\r\n\t\t\t\t\t<ModalActions>\r\n\t\t\t\t\t\t{error ? (\r\n\t\t\t\t\t\t\t<ModalError>\r\n\t\t\t\t\t\t\t\t<strong>{error}</strong>\r\n\t\t\t\t\t\t\t</ModalError>\r\n\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t<label htmlFor=\"username\">\r\n\t\t\t\t\t\t\t<strong>Username:</strong>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<ModalInput\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={username}\r\n\t\t\t\t\t\t\tplaceholder=\"Enter Username\"\r\n\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tsetUsername(e.target.value);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<label htmlFor=\"email\">\r\n\t\t\t\t\t\t\t<strong>Email:</strong>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<ModalInput\r\n\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\tplaceholder=\"Enter Email\"\r\n\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tsetEmail(e.target.value);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<label htmlFor=\"password\">\r\n\t\t\t\t\t\t\t<strong>Password:</strong>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<ModalInput\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\tplaceholder=\"Enter Password\"\r\n\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tsetPassword(e.target.value);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<ModalButton type=\"submit\">Register</ModalButton>\r\n\t\t\t\t\t</ModalActions>\r\n\t\t\t\t</ModalContent>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Register;\r\n","import React from \"react\";\r\nimport { NavItem, StyledNavLink } from \"../../style/styledNavbar\";\r\nimport { SignOutAlt } from \"@styled-icons/fa-solid\";\r\nimport { useMutation } from \"@apollo/react-hooks\";\r\nimport { LOGOUT } from \"../../graphql/gqlDocs\";\r\nimport { useStoreActions } from \"easy-peasy\";\r\n\r\nconst Logout = () => {\r\n\tconst setAccessToken = useStoreActions(\r\n\t\t(actions) => actions.user.setAccessToken\r\n\t);\r\n\r\n\tconst [logout, { client }] = useMutation(LOGOUT);\r\n\r\n\treturn (\r\n\t\t<NavItem right>\r\n\t\t\t<StyledNavLink\r\n\t\t\t\tonClick={async () => {\r\n\t\t\t\t\tawait logout();\r\n\t\t\t\t\tsetAccessToken(\"\");\r\n\t\t\t\t\tawait client.resetStore();\r\n\t\t\t\t}}\r\n\t\t\t\tto=\"/\"\r\n\t\t\t>\r\n\t\t\t\t<SignOutAlt size=\"18\" title=\"Logout\" />\r\n\t\t\t</StyledNavLink>\r\n\t\t</NavItem>\r\n\t);\r\n};\r\n\r\nexport default Logout;\r\n","import React from \"react\";\r\nimport { List } from \"@styled-icons/fa-solid\";\r\nimport {\r\n\tNav,\r\n\tNavItem,\r\n\tStyledNavLink,\r\n\tSearchForm,\r\n\tAnimatedSearch,\r\n} from \"../../style/styledNavbar\";\r\nimport logo from \"../../style/Logo.png\";\r\nimport Login from \"../auth/Login\";\r\nimport Register from \"../auth/Register\";\r\nimport Logout from \"../auth/Logout\";\r\nimport { useQuery } from \"@apollo/react-hooks\";\r\nimport { GET_USER } from \"../../graphql/gqlDocs\";\r\nimport { useStoreActions, useStoreState } from \"easy-peasy\";\r\n\r\nconst NavBar = () => {\r\n\tconst { data, loading } = useQuery(GET_USER);\r\n\r\n\tconst searchInput = useStoreState((state) => state.search.input);\r\n\tconst setInput = useStoreActions((actions) => actions.search.setInput);\r\n\r\n\tconst onInputChange = (e) => {\r\n\t\tsetInput(e.target.value);\r\n\t};\r\n\r\n\tconst authLinks = (\r\n\t\t<React.Fragment>\r\n\t\t\t<Logout />\r\n\t\t\t<NavItem right>\r\n\t\t\t\t<StyledNavLink to=\"/wishlist\">\r\n\t\t\t\t\t<List size=\"18\" title=\"My Wishlist\" />\r\n\t\t\t\t</StyledNavLink>\r\n\t\t\t</NavItem>\r\n\t\t</React.Fragment>\r\n\t);\r\n\r\n\tconst adminLinks = (\r\n\t\t<React.Fragment>\r\n\t\t\t<NavItem>\r\n\t\t\t\t<StyledNavLink to=\"/admin-section\">Admin Section</StyledNavLink>\r\n\t\t\t</NavItem>\r\n\t\t</React.Fragment>\r\n\t);\r\n\r\n\tconst guestLinks = (\r\n\t\t<React.Fragment>\r\n\t\t\t<Login />\r\n\t\t\t<Register />\r\n\t\t</React.Fragment>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Nav>\r\n\t\t\t<NavItem>\r\n\t\t\t\t<StyledNavLink to=\"/\" style={{ padding: \"25px 28px\" }}>\r\n\t\t\t\t\t<img src={logo} alt=\"logo\" style={{ height: 62, width: 250 }}></img>\r\n\t\t\t\t</StyledNavLink>\r\n\t\t\t</NavItem>\r\n\t\t\t{data && data.getUser && !loading\r\n\t\t\t\t? data.getUser.admin\r\n\t\t\t\t\t? adminLinks\r\n\t\t\t\t\t: null\r\n\t\t\t\t: null}\r\n\t\t\t<NavItem>\r\n\t\t\t\t<StyledNavLink to=\"/movies\">Catalogue</StyledNavLink>\r\n\t\t\t</NavItem>\r\n\t\t\t<NavItem>\r\n\t\t\t\t<SearchForm autoComplete=\"off\">\r\n\t\t\t\t\t<AnimatedSearch\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"search\"\r\n\t\t\t\t\t\tplaceholder=\"Search...\"\r\n\t\t\t\t\t\tvalue={searchInput}\r\n\t\t\t\t\t\tonChange={onInputChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</SearchForm>\r\n\t\t\t</NavItem>\r\n\t\t\t{data && data.getUser && !loading ? authLinks : guestLinks}\r\n\t\t</Nav>\r\n\t);\r\n};\r\n\r\nexport default NavBar;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Main = styled.div`\r\n\tdisplay: block;\r\n\ttransition: margin-left 0.5s;\r\n\tpadding: 0.1px;\r\n\tmargin-left: ${(props) => (props.sideNav ? \"350px\" : 0)};\r\n\tposition: relative;\r\n\tmin-height: 100vh;\r\n`;\r\n\r\nexport const Canvas = styled.div`\r\n\theight: 100%;\r\n\twidth: ${(props) => (props.sideNav ? \"100%\" : 0)};\r\n\tposition: fixed;\r\n\tz-index: 3;\r\n\t/* top: 0;\r\n\tleft: 0; */\r\n\tbackground-color: rgba(0, 0, 0, 0.9);\r\n\toverflow-y: auto;\r\n\toverflow-x: hidden;\r\n\topacity: ${(props) => (props.sideNav ? 0.8 : 0)};\r\n\ttransition: opacity 0.7s;\r\n`;\r\n\r\nexport const Content = styled.div`\r\n\tpadding-bottom: 3.5rem;\r\n\tfont-family: \"Comic Neue\", cursive;\r\n`;\r\n\r\nexport const About = styled.p`\r\n\tfont-size: 26px;\r\n\tfont-weight: bold;\r\n\twhite-space: pre-line;\r\n\tmargin-left: 100px;\r\n\t@media screen and (max-width: 768px) {\r\n\t\tmargin-left: 10px;\r\n\t}\r\n`;\r\n\r\nexport const HeaderDiv = styled.div`\r\n\tposition: relative;\r\n\tpadding-top: 60px;\r\n\tbackground-image: url(\"/images/popcorn.png\");\r\n\tbackground-size: 100% inherit;\r\n\tmin-height: 350px;\r\n\tfont-family: \"Gotu\", sans-serif;\r\n`;\r\n\r\nexport const HeaderTitle = styled.h1`\r\n\ttext-align: center;\r\n\tpadding: 2rem;\r\n`;\r\n\r\nexport const HeaderCredit = styled.div`\r\n\ttext-align: end;\r\n\tfont-size: 11px;\r\n\tposition: absolute;\r\n\tbottom: 0;\r\n\tright: 0;\r\n`;\r\n\r\nexport const StyledFooter = styled.footer`\r\n\tposition: absolute;\r\n\theight: 3rem;\r\n\tleft: 0;\r\n\tbottom: 0;\r\n\tright: 0;\r\n\twidth: 100%;\r\n\tfont-family: \"Open Sans\", sans-serif;\r\n\tbackground-color: #48505e;\r\n\tcolor: white;\r\n\ttext-align: center;\r\n\tvertical-align: middle;\r\n\tline-height: 3rem;\r\n`;\r\n\r\nexport const StyledPagination = styled.a`\r\n\tcolor: ${(props) => (props.active === \"true\" ? \"white\" : \"black\")};\r\n\tbackground-color: ${(props) => (props.active === \"true\" ? \"dodgerblue\" : \"\")};\r\n\tpadding: 8px 16px;\r\n\tfont-size: 20px;\r\n\ttext-decoration: none;\r\n\tcursor: pointer;\r\n\ttransition: background-color 0.3s;\r\n\t&:hover {\r\n\t\tbackground-color: ${(props) => (props.active === \"false\" ? \"#ddd\" : \"\")};\r\n\t}\r\n`;\r\n","import React from \"react\";\r\nimport { HeaderDiv, HeaderTitle, HeaderCredit } from \"../../style/styledLayout\";\r\nimport { GET_USER } from \"../../graphql/gqlDocs\";\r\nimport { useQuery } from \"@apollo/react-hooks\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst Header = ({ history }) => {\r\n\tconst { data, loading } = useQuery(GET_USER);\r\n\r\n\tlet title = \"\";\r\n\tswitch (history.location.pathname) {\r\n\t\tcase \"/\":\r\n\t\t\ttitle =\r\n\t\t\t\tdata && data.getUser && !loading\r\n\t\t\t\t\t? `WELCOME ${data.getUser.username}!`\r\n\t\t\t\t\t: \"Movie Affiliates\";\r\n\t\t\tbreak;\r\n\t\tcase \"/wishlist\":\r\n\t\t\ttitle = \"Wishlist\";\r\n\t\t\tbreak;\r\n\t\tcase \"/checkout\":\r\n\t\t\ttitle = \"Checkout\";\r\n\t\t\tbreak;\r\n\t\tcase \"/admin-section\":\r\n\t\t\ttitle = \"Admin Section\";\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\ttitle = \"Catalogue\";\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<HeaderDiv>\r\n\t\t\t<HeaderTitle>{title}</HeaderTitle>\r\n\t\t\t<HeaderCredit>\r\n\t\t\t\tBy the amazing{\" \"}\r\n\t\t\t\t<a href=\"https://pixabay.com/users/asi24-2397893/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1614707\">\r\n\t\t\t\t\tasi24\r\n\t\t\t\t</a>{\" \"}\r\n\t\t\t\tfrom{\" \"}\r\n\t\t\t\t<a href=\"https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1614707\">\r\n\t\t\t\t\tPixabay\r\n\t\t\t\t</a>\r\n\t\t\t</HeaderCredit>\r\n\t\t</HeaderDiv>\r\n\t);\r\n};\r\n\r\nexport default withRouter(Header);\r\n","import React from \"react\";\r\nimport { About } from \"../style/styledLayout\";\r\n\r\nconst Home = () => <About>{about}</About>;\r\n\r\nexport default Home;\r\n\r\nconst about = `Hi everyone! Welcome to my movie store!!\r\n\\n\r\nEver since I can remember myself I had a true passion for film and cinema.\r\nThat's why I wanted to create this website, so I can express my love for movies, TV shows and coding!\r\n\\n\r\nI really hope you enjoy it.\r\n\\n\r\nDaniel\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n\tmax-width: 1200px;\r\n\tmargin: 0 auto;\r\n`;\r\n\r\nexport const List = styled.ul`\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tlist-style: none;\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n`;\r\n\r\nexport const Item = styled.li`\r\n\tdisplay: flex;\r\n\tpadding: 1rem;\r\n\r\n\t@media (min-width: 40rem) {\r\n\t\twidth: 50%;\r\n\t}\r\n\r\n\t@media (min-width: 56rem) {\r\n\t\twidth: 33.3333%;\r\n\t}\r\n`;\r\n","import styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const Select = styled.select``;\r\n\r\nexport const Option = styled.option``;\r\n\r\nexport const Card = styled.div`\r\n\tbackground-color: white;\r\n\tborder-radius: 0.25rem;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\toverflow: hidden;\r\n\twidth: 20rem;\r\n\tbox-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\r\n\ttransition: 0.3s;\r\n\t&:hover {\r\n\t\tbox-shadow: 0 25px 40px 0 rgba(0, 0, 0, 0.4);\r\n\t}\r\n`;\r\n\r\nexport const CardImgLink = styled(Link)`\r\n\ttext-decoration: none;\r\n\toverflow: hidden;\r\n\theight: 70%;\r\n`;\r\n\r\nexport const CardImg = styled.img`\r\n\twidth: 100%;\r\n\theight: 100%;\r\n`;\r\n\r\nexport const CardTitle = styled.h3`\r\n\tfont-size: 26px;\r\n\tmargin: auto;\r\n`;\r\n\r\nexport const CardPrice = styled.h4`\r\n\tfont-size: 22px;\r\n\tmargin: auto;\r\n`;\r\n\r\nexport const CardActions = styled.div`\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\talign-content: flex-end;\r\n\tpadding: 1rem;\r\n`;\r\n\r\nexport const CardButton = styled.button`\r\n\tdisplay: flex;\r\n\tmargin: 0 0 0 auto;\r\n`;\r\n","import styled, { keyframes } from \"styled-components\";\r\n\r\nconst fadein = keyframes`\r\n  from {\r\n    bottom: 0;\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    bottom: 30px;\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nconst fadeout = keyframes`\r\n  from {\r\n    bottom: 30px;\r\n    opacity: 1;\r\n  }\r\n  to {\r\n    bottom: 0;\r\n    opacity: 0;\r\n  }\r\n`;\r\n\r\nexport const Toast = styled.div`\r\n\tdisplay: ${(props) => (props.clicked ? \"block\" : \"none\")};\r\n\tmin-width: 250px;\r\n\tmargin-left: -125px;\r\n\tbackground-color: #333;\r\n\tcolor: #fff;\r\n\ttext-align: center;\r\n\tborder-radius: 2px;\r\n\tpadding: 16px;\r\n\tposition: fixed;\r\n\tz-index: 1;\r\n\tleft: 50%;\r\n\tbottom: 30px;\r\n\tfont-size: 17px;\r\n\t-webkit-animation: ${fadein} 0.5s, ${fadeout} 0.5s 2.5s;\r\n\tanimation: ${fadein} 0.5s, ${fadeout} 0.5s 2.5s;\r\n`;\r\n","import React, { useState, useEffect } from \"react\";\nimport \"./style.css\";\nimport { useQuery, useMutation } from \"react-apollo\";\nimport { GET_USER, WISH } from \"../../graphql/gqlDocs\";\nimport { Toast } from \"../../style/styledToast\";\n\nconst Heart = ({ movieId }) => {\n\tconst [check, setCheck] = useState(false);\n\tconst [isToast, setToast] = useState(false);\n\n\tconst { data: dataUser, loading, refetch } = useQuery(GET_USER);\n\n\tconst [wish] = useMutation(WISH);\n\n\tuseEffect(() => {\n\t\tif (dataUser && dataUser.getUser) {\n\t\t\tconst flag =\n\t\t\t\tdataUser.getUser.wishlist.filter((w) => w.movie.id === movieId).length >\n\t\t\t\t0;\n\t\t\tsetCheck(flag);\n\t\t}\n\t}, [dataUser, movieId]);\n\n\tif (loading) {\n\t\treturn null;\n\t}\n\n\tconst toggle = async () => {\n\t\tif (dataUser && dataUser.getUser) {\n\t\t\tawait wish({\n\t\t\t\tvariables: {\n\t\t\t\t\tuserId: dataUser.getUser.id,\n\t\t\t\t\tmovieId: movieId,\n\t\t\t\t\tactive: !check,\n\t\t\t\t},\n\t\t\t});\n\t\t\trefetch();\n\t\t\tsetCheck(!check);\n\t\t} else {\n\t\t\tsetToast(true);\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetToast(false);\n\t\t\t}, 2700);\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{/* eslint-disable-next-line */}\n\t\t\t<Toast clicked={isToast}>You need to be logged in to wish... </Toast>\n\n\t\t\t<div id=\"main-content\">\n\t\t\t\t<div>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tid={movieId}\n\t\t\t\t\t\tchecked={check}\n\t\t\t\t\t\tonChange={toggle}\n\t\t\t\t\t/>\n\t\t\t\t\t<label htmlFor={movieId}>\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tid=\"heart-svg\"\n\t\t\t\t\t\t\tviewBox=\"467 392 58 57\"\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\tid=\"Group\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\t\t\t\t\ttransform=\"translate(467 392)\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\td=\"M29.144 20.773c-.063-.13-4.227-8.67-11.44-2.59C7.63 28.795 28.94 43.256 29.143 43.394c.204-.138 21.513-14.6 11.44-25.213-7.214-6.08-11.377 2.46-11.44 2.59z\"\n\t\t\t\t\t\t\t\t\tid=\"heart\"\n\t\t\t\t\t\t\t\t\tfill=\"#AAB8C2\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<circle\n\t\t\t\t\t\t\t\t\tid=\"main-circ\"\n\t\t\t\t\t\t\t\t\tfill=\"#E2264D\"\n\t\t\t\t\t\t\t\t\topacity=\"0\"\n\t\t\t\t\t\t\t\t\tcx=\"29.5\"\n\t\t\t\t\t\t\t\t\tcy=\"29.5\"\n\t\t\t\t\t\t\t\t\tr=\"1.5\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<g id=\"grp7\" opacity=\"0\" transform=\"translate(7 6)\">\n\t\t\t\t\t\t\t\t\t<circle id=\"oval1\" fill=\"#9CD8C3\" cx=\"2\" cy=\"6\" r=\"2\" />\n\t\t\t\t\t\t\t\t\t<circle id=\"oval2\" fill=\"#8CE8C3\" cx=\"5\" cy=\"2\" r=\"2\" />\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t<g id=\"grp6\" opacity=\"0\" transform=\"translate(0 28)\">\n\t\t\t\t\t\t\t\t\t<circle id=\"oval1\" fill=\"#CC8EF5\" cx=\"2\" cy=\"7\" r=\"2\" />\n\t\t\t\t\t\t\t\t\t<circle id=\"oval2\" fill=\"#91D2FA\" cx=\"3\" cy=\"2\" r=\"2\" />\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t<g id=\"grp3\" opacity=\"0\" transform=\"translate(52 28)\">\n\t\t\t\t\t\t\t\t\t<circle id=\"oval2\" fill=\"#9CD8C3\" cx=\"2\" cy=\"7\" r=\"2\" />\n\t\t\t\t\t\t\t\t\t<circle id=\"oval1\" fill=\"#8CE8C3\" cx=\"4\" cy=\"2\" r=\"2\" />\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\tid=\"grp2\"\n\t\t\t\t\t\t\t\t\topacity=\"0\"\n\t\t\t\t\t\t\t\t\ttransform=\"translate(44 6)\"\n\t\t\t\t\t\t\t\t\tfill=\"#CC8EF5\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<circle\n\t\t\t\t\t\t\t\t\t\tid=\"oval2\"\n\t\t\t\t\t\t\t\t\t\ttransform=\"matrix(-1 0 0 1 10 0)\"\n\t\t\t\t\t\t\t\t\t\tcx=\"5\"\n\t\t\t\t\t\t\t\t\t\tcy=\"6\"\n\t\t\t\t\t\t\t\t\t\tr=\"2\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<circle\n\t\t\t\t\t\t\t\t\t\tid=\"oval1\"\n\t\t\t\t\t\t\t\t\t\ttransform=\"matrix(-1 0 0 1 4 0)\"\n\t\t\t\t\t\t\t\t\t\tcx=\"2\"\n\t\t\t\t\t\t\t\t\t\tcy=\"2\"\n\t\t\t\t\t\t\t\t\t\tr=\"2\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\tid=\"grp5\"\n\t\t\t\t\t\t\t\t\topacity=\"0\"\n\t\t\t\t\t\t\t\t\ttransform=\"translate(14 50)\"\n\t\t\t\t\t\t\t\t\tfill=\"#91D2FA\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<circle\n\t\t\t\t\t\t\t\t\t\tid=\"oval1\"\n\t\t\t\t\t\t\t\t\t\ttransform=\"matrix(-1 0 0 1 12 0)\"\n\t\t\t\t\t\t\t\t\t\tcx=\"6\"\n\t\t\t\t\t\t\t\t\t\tcy=\"5\"\n\t\t\t\t\t\t\t\t\t\tr=\"2\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<circle\n\t\t\t\t\t\t\t\t\t\tid=\"oval2\"\n\t\t\t\t\t\t\t\t\t\ttransform=\"matrix(-1 0 0 1 4 0)\"\n\t\t\t\t\t\t\t\t\t\tcx=\"2\"\n\t\t\t\t\t\t\t\t\t\tcy=\"2\"\n\t\t\t\t\t\t\t\t\t\tr=\"2\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\tid=\"grp4\"\n\t\t\t\t\t\t\t\t\topacity=\"0\"\n\t\t\t\t\t\t\t\t\ttransform=\"translate(35 50)\"\n\t\t\t\t\t\t\t\t\tfill=\"#F48EA7\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<circle\n\t\t\t\t\t\t\t\t\t\tid=\"oval1\"\n\t\t\t\t\t\t\t\t\t\ttransform=\"matrix(-1 0 0 1 12 0)\"\n\t\t\t\t\t\t\t\t\t\tcx=\"6\"\n\t\t\t\t\t\t\t\t\t\tcy=\"5\"\n\t\t\t\t\t\t\t\t\t\tr=\"2\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<circle\n\t\t\t\t\t\t\t\t\t\tid=\"oval2\"\n\t\t\t\t\t\t\t\t\t\ttransform=\"matrix(-1 0 0 1 4 0)\"\n\t\t\t\t\t\t\t\t\t\tcx=\"2\"\n\t\t\t\t\t\t\t\t\t\tcy=\"2\"\n\t\t\t\t\t\t\t\t\t\tr=\"2\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\tid=\"grp1\"\n\t\t\t\t\t\t\t\t\topacity=\"0\"\n\t\t\t\t\t\t\t\t\ttransform=\"translate(24)\"\n\t\t\t\t\t\t\t\t\tfill=\"#9FC7FA\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<circle id=\"oval1\" cx=\"2.5\" cy=\"3\" r=\"2\" />\n\t\t\t\t\t\t\t\t\t<circle id=\"oval2\" cx=\"7.5\" cy=\"2\" r=\"2\" />\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nexport default Heart;\n","import React, { useState } from \"react\";\r\nimport {\r\n\tCard,\r\n\tCardImgLink,\r\n\tCardImg,\r\n\tCardTitle,\r\n\tCardPrice,\r\n\tCardActions,\r\n\tCardButton,\r\n\tSelect,\r\n\tOption,\r\n} from \"../../style/styledCard\";\r\nimport { CartPlus, ShekelSign } from \"@styled-icons/fa-solid\";\r\nimport Heart from \"../heart/Heart\";\r\nimport { useStoreActions } from \"easy-peasy\";\r\nimport { Toast } from \"../../style/styledToast\";\r\n\r\nconst Movie = ({ data }) => {\r\n\tconst [cartAdd, setCartAdd] = useState(false);\r\n\tconst addToCart = useStoreActions((actions) => actions.cart.addToCart);\r\n\r\n\tconst [avail, setAvail] = useState(0);\r\n\r\n\tconst onSelectChange = (e) => {\r\n\t\tsetAvail(e.target.selectedIndex);\r\n\t};\r\n\r\n\tconst toggleToast = () => {\r\n\t\tsetCartAdd(true);\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetCartAdd(false);\r\n\t\t}, 2700);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{/* eslint-disable-next-line */}\r\n\t\t\t<Toast clicked={cartAdd}>Movie added to cart! </Toast>\r\n\r\n\t\t\t<Card>\r\n\t\t\t\t<CardImgLink to={`/movie/${data.id}`}>\r\n\t\t\t\t\t<CardImg src={data.cover} alt=\"Movie cover\" />\r\n\t\t\t\t</CardImgLink>\r\n\t\t\t\t<CardTitle>{data.name}</CardTitle>\r\n\t\t\t\t<CardPrice>\r\n\t\t\t\t\t{data.availableIn[avail].price}\r\n\t\t\t\t\t<ShekelSign size=\"22\" />\r\n\t\t\t\t</CardPrice>\r\n\t\t\t\t<CardActions>\r\n\t\t\t\t\t<Select onChange={onSelectChange}>\r\n\t\t\t\t\t\t{data.availableIn.map((available) => (\r\n\t\t\t\t\t\t\t<Option key={available.format}>{available.format}</Option>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t\t<Heart movieId={data.id} />\r\n\t\t\t\t\t<CardButton\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\taddToCart({\r\n\t\t\t\t\t\t\t\tmovieId: data.id,\r\n\t\t\t\t\t\t\t\tname: data.name,\r\n\t\t\t\t\t\t\t\tformat: data.availableIn[avail].format,\r\n\t\t\t\t\t\t\t\tprice: data.availableIn[avail].price,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\ttoggleToast();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<CartPlus size=\"20\" title=\"Add to cart!\" />\r\n\t\t\t\t\t</CardButton>\r\n\t\t\t\t</CardActions>\r\n\t\t\t</Card>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Movie;\r\n","import React from \"react\";\r\nimport { StyledPagination } from \"../../style/styledLayout\";\r\n\r\nconst Pagination = ({ totalMovies, moviesPerPage, paginate, curr }) => {\r\n\tconst pageNumbers = [];\r\n\r\n\tconst maxPages = Math.ceil(totalMovies / moviesPerPage);\r\n\r\n\tfor (let i = 1; i <= maxPages; i++) {\r\n\t\tpageNumbers.push(i);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tstyle={{ display: \"flex\", justifyContent: \"center\", margin: \"2rem 0\" }}\r\n\t\t>\r\n\t\t\t<StyledPagination onClick={() => (curr > 1 ? paginate(--curr) : null)}>\r\n\t\t\t\t&laquo;\r\n\t\t\t</StyledPagination>\r\n\t\t\t{pageNumbers.map((p) => (\r\n\t\t\t\t<StyledPagination\r\n\t\t\t\t\tkey={p}\r\n\t\t\t\t\tactive={curr === p ? \"true\" : \"false\"}\r\n\t\t\t\t\tonClick={() => paginate(p)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{p}\r\n\t\t\t\t</StyledPagination>\r\n\t\t\t))}\r\n\t\t\t<StyledPagination\r\n\t\t\t\tonClick={() => (curr < maxPages ? paginate(++curr) : null)}\r\n\t\t\t>\r\n\t\t\t\t&raquo;\r\n\t\t\t</StyledPagination>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Pagination;\r\n","import React, { useState } from \"react\";\r\nimport { Container, List, Item } from \"../../style/styledList\";\r\nimport Movie from \"./Movie\";\r\nimport Pagination from \"../layout/Pagination\";\r\nimport { useQuery } from \"@apollo/react-hooks\";\r\nimport { GET_MOVIES } from \"../../graphql/gqlDocs\";\r\nimport { useStoreState } from \"easy-peasy\";\r\nimport { Select, Option } from \"../../style/styledCard\";\r\n\r\nconst MovieList = () => {\r\n\tconst [genre, setGenre] = useState(\"All\");\r\n\tconst [currentPage, setCurrentPage] = useState(1);\r\n\tconst [moviesPerPage] = useState(3);\r\n\tconst { data, loading, error } = useQuery(GET_MOVIES);\r\n\r\n\tconst searchInput = useStoreState((state) => state.search.input);\r\n\r\n\tif (loading)\r\n\t\treturn (\r\n\t\t\t<div className=\"lds-ripple\">\r\n\t\t\t\t<div></div>\r\n\t\t\t\t<div></div>\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\tif (error) {\r\n\t\tconsole.log(error);\r\n\t\treturn <div>Error</div>;\r\n\t}\r\n\r\n\tconst genres = [\r\n\t\t\"All\",\r\n\t\t\"Action\",\r\n\t\t\"Adventure\",\r\n\t\t\"Animation\",\r\n\t\t\"Drama\",\r\n\t\t\"Horror\",\r\n\t\t\"Romance\",\r\n\t\t\"Thriller\",\r\n\t];\r\n\r\n\tconst onSelectChange = (e) => {\r\n\t\tsetGenre(e.target.value);\r\n\t};\r\n\r\n\tconst moviesToRender =\r\n\t\tsearchInput === \"\"\r\n\t\t\t? data.getMovies\r\n\t\t\t: data.getMovies.filter((movie) =>\r\n\t\t\t\t\tmovie.name.toLowerCase().includes(searchInput.toLowerCase())\r\n\t\t\t  );\r\n\r\n\tconst indexOfLastMovie = currentPage * moviesPerPage;\r\n\tconst indexOfFirstMovie = indexOfLastMovie - moviesPerPage;\r\n\tconst currentMovies = moviesToRender.slice(\r\n\t\tindexOfFirstMovie,\r\n\t\tindexOfLastMovie\r\n\t);\r\n\r\n\tconst paginate = (pageNumber) => {\r\n\t\tsetCurrentPage(pageNumber);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<Select\r\n\t\t\t\tonChange={onSelectChange}\r\n\t\t\t\tstyle={{ display: \"flex\", margin: \"1rem auto\", fontSize: 26 }}\r\n\t\t\t>\r\n\t\t\t\t{genres.map((g) => (\r\n\t\t\t\t\t<Option key={g} value={g}>\r\n\t\t\t\t\t\t{g}\r\n\t\t\t\t\t</Option>\r\n\t\t\t\t))}\r\n\t\t\t</Select>\r\n\t\t\t<List>\r\n\t\t\t\t{currentMovies.map((movie) =>\r\n\t\t\t\t\tmovie.genre === genre || genre === \"All\" ? (\r\n\t\t\t\t\t\t<Item key={movie.id}>\r\n\t\t\t\t\t\t\t<Movie data={movie} />\r\n\t\t\t\t\t\t</Item>\r\n\t\t\t\t\t) : null\r\n\t\t\t\t)}\r\n\t\t\t</List>\r\n\t\t\t<Pagination\r\n\t\t\t\tmoviesPerPage={moviesPerPage}\r\n\t\t\t\ttotalMovies={moviesToRender.length}\r\n\t\t\t\tpaginate={paginate}\r\n\t\t\t\tcurr={currentPage}\r\n\t\t\t/>\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nexport default MovieList;\r\n","import styled, { keyframes } from \"styled-components\";\r\n\r\nexport const MoviePageContainer = styled.div`\r\n\tmax-width: 1200px;\r\n\tmargin: 0 auto;\r\n\tborder-radius: 5px;\r\n\tbackground-color: #f2f2f2;\r\n\tpadding: 10px;\r\n`;\r\n\r\nexport const MoviePageRow = styled.div`\r\n\t&:after {\r\n\t\tcontent: \"\";\r\n\t\tdisplay: table;\r\n\t\tclear: both;\r\n\t}\r\n`;\r\n\r\nexport const MoviePageColumn = styled.div`\r\n\tfloat: left;\r\n\twidth: 50%;\r\n\tmargin-top: 6px;\r\n\tpadding: 20px;\r\n\t@media screen and (max-width: 768px) {\r\n\t\twidth: 100%;\r\n\t\tmargin-top: 0;\r\n\t}\r\n`;\r\n\r\nexport const MoviePageTitle = styled.div`\r\n\ttext-align: center;\r\n\tfont-size: 38px;\r\n\tmargin-top: 6px;\r\n\tmargin-bottom: 16px;\r\n`;\r\n\r\nexport const MovieImg = styled.img`\r\n\twidth: 100%;\r\n\tmax-width: 400px;\r\n\theight: auto;\r\n\tmargin-top: 15px;\r\n\tborder-radius: 15px;\r\n`;\r\n\r\nexport const MovieDetail = styled.div`\r\n\twidth: 100%;\r\n\tpadding: 12px;\r\n\tborder: 1px solid #ccc;\r\n\tmargin-top: 6px;\r\n\tmargin-bottom: 16px;\r\n\tresize: vertical;\r\n`;\r\n\r\nconst slideRight = keyframes`\r\n\tto {\r\n\t\ttransform:translateX(0);\r\n\t}\r\n`;\r\n\r\nexport const MovieWarning = styled.div`\r\n\t/* visibility: ${(props) => (props.isLow ? \"visible\" : \"hidden\")}; */\r\n\tdisplay: ${(props) => (props.isLow ? \"block\" : \"none\")};\r\n\twidth: 100%;\r\n\toverflow: hidden;\r\n\tanimation: ${slideRight} 2s forwards;\r\n\ttransform:translateX(-100%);\r\n`;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst PageNotFound = () => (\r\n\t<section style={{ textAlign: \"center\" }}>\r\n\t\t<h1>Uh oh!</h1>\r\n\t\t<p>Page can't be found.</p>\r\n\t\t<Link to=\"/\">Back Home</Link>\r\n\t</section>\r\n);\r\n\r\nexport default PageNotFound;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n\tMoviePageContainer,\r\n\tMovieImg,\r\n\tMovieDetail,\r\n\tMoviePageRow,\r\n\tMoviePageColumn,\r\n\tMoviePageTitle,\r\n\tMovieWarning,\r\n} from \"../../style/StyledMoviePage\";\r\nimport { useQuery } from \"@apollo/react-hooks\";\r\nimport { GET_MOVIE } from \"../../graphql/gqlDocs\";\r\nimport {\r\n\tCardPrice,\r\n\tCardActions,\r\n\tCardButton,\r\n\tSelect,\r\n\tOption,\r\n} from \"../../style/styledCard\";\r\nimport { CartPlus, ShekelSign } from \"@styled-icons/fa-solid\";\r\nimport Heart from \"../heart/Heart\";\r\nimport { Toast } from \"../../style/styledToast\";\r\nimport { useStoreActions } from \"easy-peasy\";\r\nimport PageNotFound from \"../PageNotFound\";\r\n\r\nconst MoviePage = ({ match }) => {\r\n\tconst [cartAdd, setCartAdd] = useState(false);\r\n\tconst addToCart = useStoreActions((actions) => actions.cart.addToCart);\r\n\r\n\tconst [avail, setAvail] = useState(0);\r\n\r\n\tconst onSelectChange = (e) => {\r\n\t\tsetAvail(e.target.selectedIndex);\r\n\t};\r\n\r\n\tconst { data, loading, error } = useQuery(GET_MOVIE, {\r\n\t\tvariables: { movieId: match.params.id },\r\n\t});\r\n\r\n\tif (loading)\r\n\t\treturn (\r\n\t\t\t<div className=\"lds-ripple\">\r\n\t\t\t\t<div></div>\r\n\t\t\t\t<div></div>\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\tif (error) {\r\n\t\treturn <PageNotFound />;\r\n\t}\r\n\r\n\tconst toggleToast = () => {\r\n\t\tsetCartAdd(true);\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetCartAdd(false);\r\n\t\t}, 2700);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{/* eslint-disable-next-line */}\r\n\t\t\t<Toast clicked={cartAdd}>Movie added to cart! </Toast>\r\n\r\n\t\t\t<MoviePageContainer>\r\n\t\t\t\t<MoviePageRow>\r\n\t\t\t\t\t<MoviePageColumn>\r\n\t\t\t\t\t\t<MovieImg src={data.getMovie.cover} />\r\n\t\t\t\t\t\t<CardPrice\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tmargin: \"5%\",\r\n\t\t\t\t\t\t\t\ttextAlign: \"center\",\r\n\t\t\t\t\t\t\t\tmaxWidth: \"350px\",\r\n\t\t\t\t\t\t\t\tfontSize: 28,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{data.getMovie.availableIn[avail].price}\r\n\t\t\t\t\t\t\t<ShekelSign size=\"22\" />\r\n\t\t\t\t\t\t</CardPrice>\r\n\t\t\t\t\t\t<CardActions style={{ maxWidth: \"400px\" }}>\r\n\t\t\t\t\t\t\t<Select onChange={onSelectChange}>\r\n\t\t\t\t\t\t\t\t{data.getMovie.availableIn.map((available) => (\r\n\t\t\t\t\t\t\t\t\t<Option key={available.format}>{available.format}</Option>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t<Heart movieId={data.getMovie.id} />\r\n\t\t\t\t\t\t\t<CardButton\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\taddToCart({\r\n\t\t\t\t\t\t\t\t\t\tmovieId: data.getMovie.id,\r\n\t\t\t\t\t\t\t\t\t\tname: data.getMovie.name,\r\n\t\t\t\t\t\t\t\t\t\tformat: data.getMovie.availableIn[avail].format,\r\n\t\t\t\t\t\t\t\t\t\tprice: data.getMovie.availableIn[avail].price,\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\ttoggleToast();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<CartPlus size=\"20\" title=\"Add to cart!\" />\r\n\t\t\t\t\t\t\t</CardButton>\r\n\t\t\t\t\t\t</CardActions>\r\n\t\t\t\t\t\t<MovieWarning\r\n\t\t\t\t\t\t\tisLow={data.getMovie.availableIn[avail].stock < 100}\r\n\t\t\t\t\t\t>{`Hurry up! there's only ${data.getMovie.availableIn[avail].stock} copies left!`}</MovieWarning>\r\n\t\t\t\t\t</MoviePageColumn>\r\n\t\t\t\t\t<MoviePageColumn>\r\n\t\t\t\t\t\t<MoviePageTitle>{data.getMovie.name}</MoviePageTitle>\r\n\r\n\t\t\t\t\t\t<label htmlFor=\"dir\">Director</label>\r\n\t\t\t\t\t\t<MovieDetail id=\"dir\">{data.getMovie.director}</MovieDetail>\r\n\r\n\t\t\t\t\t\t<label htmlFor=\"cast\">Cast</label>\r\n\t\t\t\t\t\t<MovieDetail id=\"cast\">\r\n\t\t\t\t\t\t\t{data.getMovie.cast.map((c, i) => {\r\n\t\t\t\t\t\t\t\treturn <p key={i}>{c}</p>;\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</MovieDetail>\r\n\r\n\t\t\t\t\t\t<label htmlFor=\"genre\">Genre</label>\r\n\t\t\t\t\t\t<MovieDetail id=\"genre\">{data.getMovie.genre}</MovieDetail>\r\n\r\n\t\t\t\t\t\t<label htmlFor=\"date\">Release Year</label>\r\n\t\t\t\t\t\t<MovieDetail id=\"date\">{data.getMovie.releaseDate}</MovieDetail>\r\n\r\n\t\t\t\t\t\t<label htmlFor=\"time\">Runtime</label>\r\n\t\t\t\t\t\t<MovieDetail id=\"time\">{data.getMovie.runtime}</MovieDetail>\r\n\r\n\t\t\t\t\t\t<label htmlFor=\"lang\">Languages</label>\r\n\t\t\t\t\t\t<MovieDetail id=\"lang\">{data.getMovie.language}</MovieDetail>\r\n\r\n\t\t\t\t\t\t<label htmlFor=\"desc\">Description</label>\r\n\t\t\t\t\t\t<MovieDetail id=\"desc\">{data.getMovie.description}</MovieDetail>\r\n\t\t\t\t\t</MoviePageColumn>\r\n\t\t\t\t</MoviePageRow>\r\n\t\t\t</MoviePageContainer>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default MoviePage;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Table = styled.table`\r\n\tborder-collapse: collapse;\r\n\tborder-spacing: 0;\r\n\twidth: 100%;\r\n\tborder: 1px solid #ddd;\r\n`;\r\n\r\nexport const TH = styled.th`\r\n\ttext-align: left;\r\n\tpadding: 8px;\r\n\tfont-size: 24px;\r\n`;\r\n\r\nexport const TD = styled.td`\r\n\ttext-align: left;\r\n\tpadding: 8px;\r\n`;\r\n\r\nexport const TR = styled.tr`\r\n\t&:nth-child(even) {\r\n\t\tbackground: #d4f4f4;\r\n\t}\r\n`;\r\n\r\nexport const Unwish = styled.span`\r\n\tcolor: #000;\r\n\tfont-size: 35px;\r\n\tfont-weight: bold;\r\n\t&:hover,\r\n\t&:focus {\r\n\t\tcolor: red;\r\n\t\tcursor: pointer;\r\n\t}\r\n`;\r\n\r\nexport const Warning = styled.h1`\r\n\tcolor: #000;\r\n\tfont-size: 35px;\r\n\tfont-weight: bold;\r\n\ttext-align: center;\r\n`;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Table, TR, TH, TD, Warning } from \"../../style/styledWishlist\";\r\nimport { useQuery, useMutation } from \"react-apollo\";\r\nimport { GET_USER, WISH } from \"../../graphql/gqlDocs\";\r\nimport { Unwish } from \"../../style/styledWishlist\";\r\n\r\nconst TableItem = ({ index, movieName, genre, movieId, updatedAt, remove }) => {\r\n\tconst click = () => {\r\n\t\tremove(movieId);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<TR>\r\n\t\t\t<TH scope=\"row\">{index + 1}</TH>\r\n\t\t\t<TD>\r\n\t\t\t\t<Link to={`/movie/${movieId}`}>{movieName}</Link>\r\n\t\t\t</TD>\r\n\t\t\t<TD>\r\n\t\t\t\t<span>{genre}</span>\r\n\t\t\t</TD>\r\n\t\t\t<TD>\r\n\t\t\t\t<Unwish onClick={click}>&times;</Unwish>\r\n\t\t\t</TD>\r\n\t\t\t<TD>{updatedAt}</TD>\r\n\t\t</TR>\r\n\t);\r\n};\r\n\r\nconst Wishlist = () => {\r\n\tconst { data: dataUser, loading: loadUser, refetch } = useQuery(GET_USER);\r\n\r\n\tconst [unwish] = useMutation(WISH);\r\n\r\n\tif (loadUser)\r\n\t\treturn (\r\n\t\t\t<div className=\"lds-ripple\">\r\n\t\t\t\t<div></div>\r\n\t\t\t\t<div></div>\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\tconst remove = async (movieId) => {\r\n\t\tif (dataUser && dataUser.getUser) {\r\n\t\t\tawait unwish({\r\n\t\t\t\tvariables: {\r\n\t\t\t\t\tuserId: dataUser.getUser.id,\r\n\t\t\t\t\tmovieId,\r\n\t\t\t\t\tactive: false,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\trefetch();\r\n\t\t}\r\n\t};\r\n\r\n\tconst wishedMovies = dataUser.getUser.wishlist.sort(\r\n\t\t(a, b) => new Date(b.updatedAt) - new Date(a.updatedAt)\r\n\t);\r\n\r\n\treturn wishedMovies.length > 0 ? (\r\n\t\t<div style={{ overflowX: \"auto\" }}>\r\n\t\t\t<Table>\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<TR>\r\n\t\t\t\t\t\t<TH>#</TH>\r\n\t\t\t\t\t\t<TH>Movie's Name</TH>\r\n\t\t\t\t\t\t<TH>Genre</TH>\r\n\t\t\t\t\t\t<TH>Unwish</TH>\r\n\t\t\t\t\t\t<TH>Date Added</TH>\r\n\t\t\t\t\t</TR>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{wishedMovies.map((w, i) => (\r\n\t\t\t\t\t\t<TableItem\r\n\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\tindex={i}\r\n\t\t\t\t\t\t\tmovieName={w.movie.name}\r\n\t\t\t\t\t\t\tgenre={w.movie.genre}\r\n\t\t\t\t\t\t\tmovieId={w.movie.id}\r\n\t\t\t\t\t\t\tupdatedAt={w.updatedAt}\r\n\t\t\t\t\t\t\tremove={remove}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</tbody>\r\n\t\t\t</Table>\r\n\t\t</div>\r\n\t) : (\r\n\t\t<Warning>You have 0 wishes!!</Warning>\r\n\t);\r\n};\r\n\r\nexport default Wishlist;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Box = styled.div`\r\n\tbackground-color: #f2f2f2;\r\n\tpadding: 5px 20px 15px 20px;\r\n\tborder: 1px solid lightgrey;\r\n\tborder-radius: 3px;\r\n`;\r\n\r\nexport const Row = styled.div`\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tmargin: 10px 16px;\r\n\t@media screen and (max-width: 768px) {\r\n\t\tflex-direction: column-reverse;\r\n\t}\r\n`;\r\n\r\nexport const Col = styled.div`\r\n\tflex: ${(props) => props.perc};\r\n\tpadding: 0 16px;\r\n\t@media screen and (max-width: 800px) {\r\n\t\tmargin-bottom: ${(props) => (props.perc === \"25%\" ? \"20px\" : \"\")};\r\n\t}\r\n`;\r\n\r\nexport const Field = styled.input`\r\n\twidth: 100%;\r\n\tmargin-bottom: 20px;\r\n\tpadding: 12px;\r\n\tborder: 1px solid #ccc;\r\n\tborder-radius: 3px;\r\n`;\r\n\r\nexport const Label = styled.label`\r\n\tmargin-bottom: 10px;\r\n\tdisplay: block;\r\n\tfont-weight: bold;\r\n`;\r\n\r\nexport const IconContainer = styled.div`\r\n\tmargin-bottom: 20px;\r\n\tpadding: 7px 0;\r\n\tfont-size: 24px;\r\n`;\r\n\r\nexport const BuyButton = styled.button`\r\n\tbackground-color: tomato;\r\n\tcolor: white;\r\n\tpadding: 12px;\r\n\tmargin: 10px 0;\r\n\tborder: none;\r\n\twidth: 100%;\r\n\tborder-radius: 3px;\r\n\tcursor: pointer;\r\n\tfont-size: 17px;\r\n\t&:hover {\r\n\t\tbackground-color: #cc4f38;\r\n\t}\r\n`;\r\n\r\nexport const Price = styled.span`\r\n\tfloat: right;\r\n\tcolor: ${(props) => props.color};\r\n`;\r\n","import React, { useState, useRef, useEffect, useReducer } from \"react\";\r\nimport { useMutation } from \"@apollo/react-hooks\";\r\nimport { ADD_MOVIE } from \"../../graphql/gqlDocs\";\r\nimport {\r\n\tModal,\r\n\tModalContent,\r\n\tModalImg,\r\n\tModalActions,\r\n\tModalInput,\r\n\tModalButton,\r\n\tModalImgContainer,\r\n\tClose,\r\n\tModalError,\r\n\tAdminButton,\r\n\tModalTextArea,\r\n} from \"../../style/styledModal\";\r\nimport { Row, Col } from \"../../style/styledCheckout\";\r\n\r\nconst AddMovie = () => {\r\n\tconst initialState = {\r\n\t\tname: \"\",\r\n\t\treleaseDate: \"\",\r\n\t\tdesc: \"\",\r\n\t\tdirector: \"\",\r\n\t\tcast: [],\r\n\t\tgenre: \"\",\r\n\t\truntime: 0,\r\n\t\tlanguage: \"\",\r\n\t\tavail: [],\r\n\t\tcover: \"\",\r\n\t};\r\n\r\n\tconst reducer = (state, { name, value }) => ({\r\n\t\t...state,\r\n\t\t[name]: value,\r\n\t});\r\n\r\n\tconst [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n\tconst onChange = (e) => {\r\n\t\tdispatch({ name: e.target.name, value: e.target.value });\r\n\t};\r\n\r\n\tconst [modal, setModal] = useState(false);\r\n\tconst [error, setError] = useState(null);\r\n\r\n\tconst [add] = useMutation(ADD_MOVIE);\r\n\r\n\tconst toggle = () => {\r\n\t\tsetModal(false);\r\n\t\tsetError(null);\r\n\t};\r\n\r\n\tconst handleClickOutside = (event) => {\r\n\t\tif (ref.current && !ref.current.contains(event.target)) {\r\n\t\t\tsetModal(false);\r\n\t\t\tsetError(null);\r\n\t\t}\r\n\t};\r\n\r\n\tconst ref = useRef(null);\r\n\tuseEffect(() => {\r\n\t\tdocument.addEventListener(\"mousedown\", handleClickOutside);\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener(\"mousedown\", handleClickOutside);\r\n\t\t};\r\n\t}, [ref]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<AdminButton onClick={() => setModal(true)}>Add a Movie</AdminButton>\r\n\r\n\t\t\t<Modal modal={modal}>\r\n\t\t\t\t<ModalContent\r\n\t\t\t\t\tref={ref}\r\n\t\t\t\t\tonSubmit={async (e) => {\r\n\t\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tawait add({\r\n\t\t\t\t\t\t\t\tvariables: {\r\n\t\t\t\t\t\t\t\t\t...state,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} catch (err) {\r\n\t\t\t\t\t\t\tsetError(err.graphQLErrors[0].message);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<ModalImgContainer>\r\n\t\t\t\t\t\t<Close onClick={toggle} title=\"Close\">\r\n\t\t\t\t\t\t\t&times;\r\n\t\t\t\t\t\t</Close>\r\n\t\t\t\t\t\t<ModalImg src=\"/images/popcorn.png\" alt=\"popcorn\" />\r\n\t\t\t\t\t</ModalImgContainer>\r\n\t\t\t\t\t<ModalActions>\r\n\t\t\t\t\t\t{error ? (\r\n\t\t\t\t\t\t\t<ModalError>\r\n\t\t\t\t\t\t\t\t<strong>{error}</strong>\r\n\t\t\t\t\t\t\t</ModalError>\r\n\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col perc=\"50%\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"email\">\r\n\t\t\t\t\t\t\t\t\t<strong>Name:</strong>\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<ModalInput\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tvalue={state.name}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter name\"\r\n\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"releaseDate\">\r\n\t\t\t\t\t\t\t\t\t<strong>Year of Release:</strong>\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<ModalInput\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tvalue={state.releaseDate}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Year\"\r\n\t\t\t\t\t\t\t\t\tname=\"releaseDate\"\r\n\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"description\">\r\n\t\t\t\t\t\t\t\t\t<strong>Description:</strong>\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<ModalTextArea\r\n\t\t\t\t\t\t\t\t\tvalue={state.description}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Description\"\r\n\t\t\t\t\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"director\">\r\n\t\t\t\t\t\t\t\t\t<strong>Director:</strong>\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<ModalInput\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tvalue={state.director}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Director\"\r\n\t\t\t\t\t\t\t\t\tname=\"director\"\r\n\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"cast\">\r\n\t\t\t\t\t\t\t\t\t<strong>Cast:</strong>\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<ModalInput\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tvalue={state.cast}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Cast\"\r\n\t\t\t\t\t\t\t\t\tname=\"cast\"\r\n\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Col>\r\n\r\n\t\t\t\t\t\t\t<Col perc=\"50%\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"genre\">\r\n\t\t\t\t\t\t\t\t\t<strong>Genre:</strong>\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<ModalInput\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tvalue={state.genre}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Genre\"\r\n\t\t\t\t\t\t\t\t\tname=\"genre\"\r\n\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"runtime\">\r\n\t\t\t\t\t\t\t\t\t<strong>Runtime:</strong>\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<ModalInput\r\n\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\tvalue={state.runtime}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Runtime\"\r\n\t\t\t\t\t\t\t\t\tname=\"runtime\"\r\n\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"language\">\r\n\t\t\t\t\t\t\t\t\t<strong>Language:</strong>\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<ModalInput\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tvalue={state.language}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Language\"\r\n\t\t\t\t\t\t\t\t\tname=\"language\"\r\n\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"avail\">\r\n\t\t\t\t\t\t\t\t\t<strong>Available In:</strong>\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<ModalInput\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tvalue={state.avail}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Avail\"\r\n\t\t\t\t\t\t\t\t\tname=\"avail\"\r\n\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"cover\">\r\n\t\t\t\t\t\t\t\t\t<strong>Cover:</strong>\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<ModalInput\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tvalue={state.cover}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Cover, use bit.ly\"\r\n\t\t\t\t\t\t\t\t\tname=\"cover\"\r\n\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<ModalButton type=\"submit\">Add a Movie</ModalButton>\r\n\t\t\t\t\t</ModalActions>\r\n\t\t\t\t</ModalContent>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default AddMovie;\r\n","import React from \"react\";\r\nimport AddMovie from \"./AddMovie\";\r\nimport { AdminButton } from \"../../style/styledModal\";\r\n\r\nconst AdminSection = () => {\r\n\treturn (\r\n\t\t<div style={{ marginTop: \"20px\" }}>\r\n\t\t\t<AddMovie />\r\n\t\t\t<AdminButton>Update a Movie</AdminButton>\r\n\t\t\t<AdminButton>Change user authorization</AdminButton>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default AdminSection;\r\n","import React from \"react\";\r\nimport { StyledFooter } from \"../../style/styledLayout\";\r\nimport { Code, Heart } from \"@styled-icons/fa-solid/\";\r\n\r\nconst Footer = () => (\r\n\t<StyledFooter>\r\n\t\t<Code size=\"26\" /> WITH <Heart size=\"26\" /> BY DANIEL MIMOUN\r\n\t</StyledFooter>\r\n);\r\n\r\nexport default Footer;\r\n","import styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Unwish } from \"./styledWishlist\";\r\n\r\nexport const SideNav = styled.div`\r\n\theight: 100%;\r\n\twidth: ${(props) => (props.sideNav ? \"350px\" : 0)};\r\n\tposition: fixed;\r\n\tz-index: 1;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tbackground-color: white;\r\n\tfont-family: \"Gotu\", sans-serif;\r\n\toverflow-x: hidden;\r\n\ttransition: 0.5s;\r\n\tpadding-top: 60px;\r\n\t@media screen and (max-height: 450px) {\r\n\t\tpadding-top: 15px;\r\n\t}\r\n`;\r\n\r\nexport const SideNavTitle = styled.h4`\r\n\tposition: absolute;\r\n\tleft: 25px;\r\n\ttop: 8px;\r\n\tcolor: #000;\r\n\tfont-size: 20px;\r\n\tfont-weight: bold;\r\n`;\r\n\r\nexport const SideItem = styled.div`\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tpadding: 8px 8px 8px 32px;\r\n\t@media screen and (max-height: 450px) {\r\n\t\tpadding-top: 18px;\r\n\t}\r\n`;\r\n\r\nexport const SideLink = styled(Link)`\r\n\tdisplay: block;\r\n\ttext-decoration: none;\r\n\tfont-size: 14px;\r\n\t/* width: 25%; */\r\n\tcolor: #2196f3;\r\n\ttransition: 0.3s;\r\n\t&:hover {\r\n\t\tcolor: #7bbcf1;\r\n\t}\r\n`;\r\n\r\nexport const Remove = styled(Unwish)`\r\n\tdisplay: flex;\r\n\tmargin: 0 0 0 auto;\r\n\tfont-size: 16px;\r\n`;\r\n\r\nexport const SidePrice = styled.span`\r\n\tdisplay: flex;\r\n\tmargin: 0 0 0 auto;\r\n\tfont-size: 16px;\r\n`;\r\n\r\nexport const SideQuantity = styled.input`\r\n\tmargin-left: \"5px\";\r\n\twidth: 50%;\r\n`;\r\n\r\nexport const SideNavTrigger = styled.button`\r\n\tposition: fixed;\r\n\tmargin-left: ${(props) => (props.sideNav ? \"350px\" : 0)};\r\n\ttransition: 0.5s;\r\n\tbottom: 20px;\r\n\tleft: 30px;\r\n\tz-index: 99;\r\n\tborder: none;\r\n\toutline: none;\r\n\tbackground-color: white;\r\n\tbox-shadow: 0 5px 10px 0 rgba(0, 0, 0, 0.4);\r\n\tcolor: black;\r\n\tcursor: pointer;\r\n\tpadding: 15px;\r\n\tborder-radius: 10px;\r\n\tfont-size: 18px;\r\n\t&:hover {\r\n\t\tbackground-color: #555;\r\n\t}\r\n`;\r\n\r\nexport const Badge = styled.span`\r\n\tposition: absolute;\r\n\ttop: -10px;\r\n\tright: -10px;\r\n\tpadding: 4px 8px;\r\n\tborder-radius: 50%;\r\n\tbackground: tomato;\r\n\tcolor: white;\r\n\tfont-size: 14px;\r\n`;\r\n","import React from \"react\";\r\nimport {\r\n\tSideNav,\r\n\tSideItem,\r\n\tSideLink,\r\n\tRemove,\r\n\tSidePrice,\r\n\tSideQuantity,\r\n\tSideNavTrigger,\r\n\tBadge,\r\n\tSideNavTitle,\r\n} from \"../../style/styledSideNav\";\r\nimport { Close } from \"../../style/styledModal\";\r\nimport { CartArrowDown, ShekelSign } from \"@styled-icons/fa-solid\";\r\nimport { useStoreState, useStoreActions } from \"easy-peasy\";\r\n\r\nconst CartItem = ({ id, name, format, price, quantity }) => {\r\n\tconst setQuantity = useStoreActions((actions) => actions.cart.addToCart);\r\n\tconst remove = useStoreActions((actions) => actions.cart.removeFromCart);\r\n\tconst onQuantityChange = (e) => {\r\n\t\tsetQuantity({\r\n\t\t\tmovieId: id,\r\n\t\t\tname,\r\n\t\t\tformat,\r\n\t\t\tprice,\r\n\t\t\tquantity: parseInt(e.target.value),\r\n\t\t});\r\n\t};\r\n\treturn (\r\n\t\t<SideItem>\r\n\t\t\t<div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n\t\t\t\t<SideLink to={`/movie/${id}`}>{name}</SideLink>\r\n\t\t\t\t<span style={{ marginLeft: \"5px\", fontSize: \"12px\" }}>{format}</span>\r\n\t\t\t\t<SideQuantity\r\n\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\tid=\"quantity\"\r\n\t\t\t\t\tname=\"quantity\"\r\n\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\tmax=\"9\"\r\n\t\t\t\t\tonKeyDown={(e) => e.preventDefault()}\r\n\t\t\t\t\tvalue={quantity}\r\n\t\t\t\t\tonChange={onQuantityChange}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<Remove onClick={() => remove({ movieId: id, format })}>&times;</Remove>\r\n\t\t\t<SidePrice>{price * quantity}</SidePrice>\r\n\t\t</SideItem>\r\n\t);\r\n};\r\n\r\nconst CartSideBar = () => {\r\n\tconst cart = useStoreState((state) => state.cart);\r\n\tconst sideNav = useStoreState((state) => state.layout.sideNav);\r\n\tconst setSideNav = useStoreActions((actions) => actions.layout.setSideNav);\r\n\tconst removeFromCart = useStoreActions(\r\n\t\t(actions) => actions.cart.removeFromCart\r\n\t);\r\n\r\n\tconst trigger = () => {\r\n\t\tsetSideNav(!sideNav);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<SideNavTrigger onClick={trigger} sideNav={sideNav}>\r\n\t\t\t\t<Badge>{cart.count}</Badge>\r\n\t\t\t\t<CartArrowDown size=\"20\" />\r\n\t\t\t</SideNavTrigger>\r\n\t\t\t<SideNav sideNav={sideNav}>\r\n\t\t\t\t<SideNavTitle>My Cart:</SideNavTitle>\r\n\t\t\t\t<Close onClick={trigger} title=\"Close\">\r\n\t\t\t\t\t&times;\r\n\t\t\t\t</Close>\r\n\t\t\t\t<hr />\r\n\t\t\t\t{cart.cart.map((item) => (\r\n\t\t\t\t\t<CartItem\r\n\t\t\t\t\t\tkey={item.movieId + item.format}\r\n\t\t\t\t\t\tid={item.movieId}\r\n\t\t\t\t\t\tname={item.name}\r\n\t\t\t\t\t\tformat={item.format}\r\n\t\t\t\t\t\tprice={item.price}\r\n\t\t\t\t\t\tquantity={item.quantity}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t\t<hr style={{ marginTop: \"120%\" }} />\r\n\t\t\t\t<SidePrice style={{ margin: \"auto\", justifyContent: \"center\" }}>\r\n\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t{cart.sumPrice}\r\n\t\t\t\t\t\t<ShekelSign size=\"16\" />\r\n\t\t\t\t\t</strong>\r\n\t\t\t\t</SidePrice>\r\n\t\t\t\t<SideLink\r\n\t\t\t\t\tto=\"/checkout\"\r\n\t\t\t\t\tstyle={{ textAlign: \"center\", margin: \"5% 0\" }}\r\n\t\t\t\t\tonClick={trigger}\r\n\t\t\t\t>\r\n\t\t\t\t\tGo to Checkout\r\n\t\t\t\t</SideLink>\r\n\t\t\t\t<SideLink\r\n\t\t\t\t\tto=\"#\"\r\n\t\t\t\t\tstyle={{ textAlign: \"center\" }}\r\n\t\t\t\t\tonClick={() => removeFromCart(\"all\")}\r\n\t\t\t\t>\r\n\t\t\t\t\tRemove All Items\r\n\t\t\t\t</SideLink>\r\n\t\t\t</SideNav>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default CartSideBar;\r\n","import React from \"react\";\r\nimport {\r\n\tBox,\r\n\tRow,\r\n\tCol,\r\n\tField,\r\n\tLabel,\r\n\tIconContainer,\r\n\tBuyButton,\r\n\tPrice,\r\n} from \"../../style/styledCheckout\";\r\nimport {\r\n\tUser,\r\n\tEnvelope,\r\n\tAddressCard,\r\n\tBuilding,\r\n\tShoppingCart,\r\n\tShekelSign,\r\n} from \"@styled-icons/fa-solid\";\r\nimport {\r\n\tCcVisa,\r\n\tCcMastercard,\r\n\tCcDinersClub,\r\n\tCcPaypal,\r\n} from \"@styled-icons/fa-brands\";\r\nimport { useStoreState, useStoreActions } from \"easy-peasy\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Checkout = ({ history }) => {\r\n\tconst cart = useStoreState((state) => state.cart);\r\n\tconst cartActions = useStoreActions((actions) => actions.cart);\r\n\tif (cart.count === 0)\r\n\t\treturn (\r\n\t\t\t<h1 style={{ textAlign: \"center\" }}>\r\n\t\t\t\tYour cart is empty!! Go get some movies!\r\n\t\t\t</h1>\r\n\t\t);\r\n\r\n\tconst onBuy = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tcartActions.removeFromCart(\"all\");\r\n\t\tcartActions.setThankYou(true);\r\n\t\tsetTimeout(() => {\r\n\t\t\tcartActions.setThankYou(false);\r\n\t\t}, 10000);\r\n\t\thistory.push(\"/thank-you\");\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Row>\r\n\t\t\t<Col perc=\"75%\">\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<form onSubmit={onBuy}>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col perc=\"50%\">\r\n\t\t\t\t\t\t\t\t<h3>Billing Address</h3>\r\n\t\t\t\t\t\t\t\t<Label htmlFor=\"fname\">\r\n\t\t\t\t\t\t\t\t\t<User size=\"16\" /> Full Name\r\n\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tid=\"fname\"\r\n\t\t\t\t\t\t\t\t\tname=\"firstname\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Frodo Baggins\"\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t></Field>\r\n\r\n\t\t\t\t\t\t\t\t<Label htmlFor=\"email\">\r\n\t\t\t\t\t\t\t\t\t<Envelope size=\"16\" /> Email\r\n\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\t\tid=\"email\"\r\n\t\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"frodo@ringbearer.com\"\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t></Field>\r\n\r\n\t\t\t\t\t\t\t\t<Label htmlFor=\"adr\">\r\n\t\t\t\t\t\t\t\t\t<AddressCard size=\"16\" /> Address\r\n\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tid=\"adr\"\r\n\t\t\t\t\t\t\t\t\tname=\"address\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Bag End\"\r\n\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t></Field>\r\n\r\n\t\t\t\t\t\t\t\t<Label htmlFor=\"city\">\r\n\t\t\t\t\t\t\t\t\t<Building size=\"16\" /> City\r\n\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tid=\"city\"\r\n\t\t\t\t\t\t\t\t\tname=\"city\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"The Shire\"\r\n\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t></Field>\r\n\r\n\t\t\t\t\t\t\t\t<Label htmlFor=\"zip\">Zip</Label>\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tid=\"zip\"\r\n\t\t\t\t\t\t\t\t\tname=\"zip\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"10001\"\r\n\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t></Field>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col perc=\"50%\">\r\n\t\t\t\t\t\t\t\t<h3>Payment</h3>\r\n\t\t\t\t\t\t\t\t<Label htmlFor=\"cards\">Accepted Cards</Label>\r\n\t\t\t\t\t\t\t\t<IconContainer>\r\n\t\t\t\t\t\t\t\t\t<CcVisa size=\"24\" color=\"navy\" />\r\n\t\t\t\t\t\t\t\t\t<CcMastercard size=\"24\" color=\"red\" />\r\n\t\t\t\t\t\t\t\t\t<CcPaypal size=\"24\" color=\"blue\" />\r\n\t\t\t\t\t\t\t\t\t<CcDinersClub size=\"24\" />\r\n\t\t\t\t\t\t\t\t</IconContainer>\r\n\r\n\t\t\t\t\t\t\t\t<Label htmlFor=\"cname\">Name on Card</Label>\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tid=\"cname\"\r\n\t\t\t\t\t\t\t\t\tname=\"cardname\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Frodo Baggins\"\r\n\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t></Field>\r\n\r\n\t\t\t\t\t\t\t\t<Label htmlFor=\"ccnum\">Credit card number</Label>\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tid=\"ccnum\"\r\n\t\t\t\t\t\t\t\t\tname=\"cardnumber\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"1111-2222-3333-4444\"\r\n\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t></Field>\r\n\r\n\t\t\t\t\t\t\t\t<Label htmlFor=\"expdate\">Exp Date</Label>\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\ttype=\"month\"\r\n\t\t\t\t\t\t\t\t\tid=\"expdate\"\r\n\t\t\t\t\t\t\t\t\tname=\"expdate\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"09/22\"\r\n\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t></Field>\r\n\r\n\t\t\t\t\t\t\t\t<Label htmlFor=\"cvv\">CVV</Label>\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tid=\"cvv\"\r\n\t\t\t\t\t\t\t\t\tname=\"cvv\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"123\"\r\n\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t></Field>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<BuyButton type=\"submit\">Continue to Checkout</BuyButton>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</Box>\r\n\t\t\t</Col>\r\n\r\n\t\t\t<Col perc=\"25%\">\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<h4>\r\n\t\t\t\t\t\tCart{\" \"}\r\n\t\t\t\t\t\t<Price color=\"black\">\r\n\t\t\t\t\t\t\t<ShoppingCart size=\"18\" /> <b>{cart.count}</b>\r\n\t\t\t\t\t\t</Price>\r\n\t\t\t\t\t</h4>\r\n\t\t\t\t\t{cart.cart.map((item) => (\r\n\t\t\t\t\t\t<p key={item.movieId + item.format}>\r\n\t\t\t\t\t\t\t<Link to={`/movie/${item.movieId}`}>{item.name}</Link>{\" \"}\r\n\t\t\t\t\t\t\t<span>{item.format}</span>\r\n\t\t\t\t\t\t\t<Price color=\"grey\">\r\n\t\t\t\t\t\t\t\t<b>{item.quantity}</b>\r\n\t\t\t\t\t\t\t\t{\" - \" + item.price}\r\n\t\t\t\t\t\t\t\t<ShekelSign size=\"12\" />\r\n\t\t\t\t\t\t\t</Price>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\t<hr style={{ border: \"1px solid lightgrey\" }} />\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tTotal{\" \"}\r\n\t\t\t\t\t\t<Price color=\"black\">\r\n\t\t\t\t\t\t\t{cart.sumPrice}\r\n\t\t\t\t\t\t\t<ShekelSign size=\"12\" />\r\n\t\t\t\t\t\t</Price>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</Box>\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t);\r\n};\r\n\r\nexport default Checkout;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst ThankYou = () => (\r\n\t<section style={{ textAlign: \"center\" }}>\r\n\t\t<h1>Thank you so much for your purchase!</h1>\r\n\t\t<p>You will be redirected to our homepage in a few seconds...</p>\r\n\t\t<Link to=\"/\">Back Home</Link>\r\n\t</section>\r\n);\r\n\r\nexport default ThankYou;\r\n","import React from \"react\";\r\nimport { Route, Redirect, Switch } from \"react-router-dom\";\r\n\r\nimport NavBar from \"./Components/layout/NavBar\";\r\nimport Header from \"./Components/layout/Header\";\r\nimport Home from \"./Components/Home\";\r\nimport MovieList from \"./Components/movies/MovieList\";\r\nimport MoviePage from \"./Components/movies/MoviePage\";\r\nimport Wishlist from \"./Components/user/Wishlist\";\r\nimport AddMovie from \"./Components/admin/AdminSection\";\r\nimport Footer from \"./Components/layout/Footer\";\r\nimport CartSideBar from \"./Components/cart/CartSideBar\";\r\nimport { Canvas, Main, Content } from \"./style/styledLayout\";\r\nimport { useStoreState, useStoreActions } from \"easy-peasy\";\r\nimport { useQuery } from \"react-apollo\";\r\nimport { GET_USER } from \"./graphql/gqlDocs\";\r\nimport PageNotFound from \"./Components/PageNotFound\";\r\nimport Checkout from \"./Components/cart/Checkout\";\r\nimport ThankYou from \"./Components/user/ThankYou\";\r\n\r\nconst PrivateRoute = ({ component: Component, role, ...rest }) => {\r\n\tconst { data, loading } = useQuery(GET_USER);\r\n\r\n\tif (loading) return <div>Loading...</div>;\r\n\r\n\tconst userType =\r\n\t\tdata && data.getUser && !loading\r\n\t\t\t? data.getUser.admin\r\n\t\t\t\t? \"ADMIN\"\r\n\t\t\t\t: \"USER\"\r\n\t\t\t: null;\r\n\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\trender={(props) =>\r\n\t\t\t\tuserType && (role === userType || userType === \"ADMIN\") ? (\r\n\t\t\t\t\t<Component {...props} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Redirect to={{ pathname: \"/\", state: { from: props.location } }} />\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nconst ThankYouRoute = () => {\r\n\tconst auth = useStoreState((state) => state.cart.thankYou);\r\n\r\n\treturn (\r\n\t\t<Route\r\n\t\t\tpath=\"/thank-you\"\r\n\t\t\trender={(props) =>\r\n\t\t\t\tauth ? (\r\n\t\t\t\t\t<ThankYou />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Redirect to={{ pathname: \"/\", state: { from: props.location } }} />\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nconst Routes = () => {\r\n\tconst sideNav = useStoreState((state) => state.layout.sideNav);\r\n\tconst setSideNav = useStoreActions((actions) => actions.layout.setSideNav);\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Main sideNav={sideNav}>\r\n\t\t\t\t<Canvas sideNav={sideNav} onClick={() => setSideNav(false)} />\r\n\t\t\t\t<NavBar />\r\n\t\t\t\t<Header />\r\n\t\t\t\t<Content>\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route exact path=\"/\" component={Home} />\r\n\t\t\t\t\t\t<Route exact path=\"/movies\" component={MovieList} />\r\n\t\t\t\t\t\t<Route exact path=\"/movie/:id\" component={MoviePage} />\r\n\t\t\t\t\t\t<PrivateRoute path=\"/wishlist\" role=\"USER\" component={Wishlist} />\r\n\t\t\t\t\t\t<PrivateRoute\r\n\t\t\t\t\t\t\tpath=\"/admin-section\"\r\n\t\t\t\t\t\t\trole=\"ADMIN\"\r\n\t\t\t\t\t\t\tcomponent={AddMovie}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route path=\"/checkout\" component={Checkout} />\r\n\t\t\t\t\t\t<ThankYouRoute />\r\n\t\t\t\t\t\t<Route component={PageNotFound} />\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</Content>\r\n\t\t\t\t<Footer />\r\n\t\t\t</Main>\r\n\t\t\t<CartSideBar />\r\n\t\t</React.Fragment>\r\n\t);\r\n};\r\n\r\nexport default Routes;\r\n","import React, { useState, useEffect } from \"react\";\nimport Routes from \"./Routes\";\nimport { useStoreActions } from \"easy-peasy\";\n\nconst App = () => {\n\tconst [loading, setLoading] = useState(true);\n\tconst setAccessToken = useStoreActions(\n\t\t(actions) => actions.user.setAccessToken\n\t);\n\n\tuseEffect(() => {\n\t\tfetch(\"https://movie-affiliates.herokuapp.com/refresh_token\", {\n\t\t\tmethod: \"POST\",\n\t\t\tcredentials: \"include\",\n\t\t}).then(async (x) => {\n\t\t\tconst { accessToken } = await x.json();\n\t\t\tsetAccessToken(accessToken);\n\t\t\tsetLoading(false);\n\t\t});\n\t}, [setAccessToken]);\n\n\tif (loading) {\n\t\treturn <div>Loading...</div>;\n\t}\n\n\treturn <Routes />;\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { createStore, action, computed } from \"easy-peasy\";\r\n\r\nlet cart = JSON.parse(localStorage.getItem(\"cart\"));\r\nif (!cart) {\r\n\tcart = [];\r\n}\r\n\r\nconst cartModel = {\r\n\tcart,\r\n\taddToCart: action((state, payload) => {\r\n\t\tlet found = false;\r\n\t\tlet i;\r\n\t\tfor (i = 0; i < state.cart.length && !found; i++) {\r\n\t\t\tif (\r\n\t\t\t\tstate.cart[i].movieId === payload.movieId &&\r\n\t\t\t\tstate.cart[i].format === payload.format\r\n\t\t\t)\r\n\t\t\t\tfound = true;\r\n\t\t}\r\n\t\tif (found) {\r\n\t\t\tif (state.cart[i - 1].quantity < 10) {\r\n\t\t\t\tstate.cart[i - 1].quantity = payload.quantity\r\n\t\t\t\t\t? payload.quantity\r\n\t\t\t\t\t: state.cart[i - 1].quantity + 1;\r\n\t\t\t}\r\n\t\t} else state.cart.push({ ...payload, quantity: 1 });\r\n\t\tlocalStorage.setItem(\"cart\", JSON.stringify(state.cart));\r\n\t}),\r\n\tremoveFromCart: action((state, payload) => {\r\n\t\tif (payload === \"all\") {\r\n\t\t\tstate.cart = [];\r\n\t\t\tlocalStorage.removeItem(\"cart\");\r\n\t\t} else {\r\n\t\t\tstate.cart = state.cart.filter((item) => {\r\n\t\t\t\tif (item.movieId === payload.movieId)\r\n\t\t\t\t\tif (item.format === payload.format) return false;\r\n\t\t\t\treturn true;\r\n\t\t\t});\r\n\t\t\tlocalStorage.setItem(\"cart\", JSON.stringify(state.cart));\r\n\t\t}\r\n\t}),\r\n\tcount: computed((state) =>\r\n\t\tstate.cart.reduce((accu, curr) => accu + curr.quantity, 0)\r\n\t),\r\n\tsumPrice: computed((state) =>\r\n\t\tstate.count === 0\r\n\t\t\t? 0\r\n\t\t\t: state.cart.reduce(\r\n\t\t\t\t\t(accu, curr) => accu + parseInt(curr.price) * curr.quantity,\r\n\t\t\t\t\t0\r\n\t\t\t  )\r\n\t),\r\n\tthankYou: false,\r\n\tsetThankYou: action((state, payload) => {\r\n\t\tstate.thankYou = payload;\r\n\t}),\r\n};\r\n\r\nconst layoutModel = {\r\n\tsideNav: false,\r\n\tsetSideNav: action((state, payload) => {\r\n\t\tstate.sideNav = payload;\r\n\t}),\r\n};\r\n\r\nconst searchModel = {\r\n\tinput: \"\",\r\n\tsetInput: action((state, payload) => {\r\n\t\tstate.input = payload;\r\n\t}),\r\n};\r\n\r\nconst userModel = {\r\n\taccessToken: \"\",\r\n\tsetAccessToken: action((state, payload) => {\r\n\t\tstate.accessToken = payload;\r\n\t}),\r\n};\r\n\r\nconst storeModel = {\r\n\tcart: cartModel,\r\n\tlayout: layoutModel,\r\n\tsearch: searchModel,\r\n\tuser: userModel,\r\n};\r\n\r\nconst store = createStore(storeModel);\r\n\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport { ApolloProvider } from \"react-apollo\";\nimport { ApolloClient } from \"apollo-client\";\nimport { createHttpLink } from \"apollo-link-http\";\nimport { setContext } from \"apollo-link-context\";\nimport { InMemoryCache } from \"apollo-cache-inmemory\";\nimport { ApolloLink } from \"apollo-link\";\nimport { TokenRefreshLink } from \"apollo-link-token-refresh\";\nimport jwtDecode from \"jwt-decode\";\nimport { StoreProvider } from \"easy-peasy\";\nimport store from \"./store\";\n\nconst httpLink = createHttpLink({\n\turi: \"/graphql\",\n\tcredentials: \"include\",\n});\n\nconst authLink = setContext((_, { headers }) => {\n\tconst accessToken = store.getState().user.accessToken;\n\tconsole.log(accessToken);\n\treturn {\n\t\theaders: {\n\t\t\t...headers,\n\t\t\tAuthorization: accessToken ? `Bearer ${accessToken}` : \"\",\n\t\t},\n\t};\n});\n\nconst client = new ApolloClient({\n\tlink: ApolloLink.from([\n\t\tnew TokenRefreshLink({\n\t\t\taccessTokenField: \"accessToken\",\n\t\t\tisTokenValidOrUndefined: () => {\n\t\t\t\tconst token = store.getState().user.accessToken;\n\n\t\t\t\tif (!token) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tconst { exp } = jwtDecode(token);\n\t\t\t\t\tif (Date.now() >= exp * 1000) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t} catch {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tfetchAccessToken: () => {\n\t\t\t\treturn fetch(\"https://movie-affiliates.herokuapp.com/refresh_token\", {\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\tcredentials: \"include\",\n\t\t\t\t});\n\t\t\t},\n\t\t\thandleFetch: (accessToken) => {\n\t\t\t\tstore.getActions().user.setAccessToken(accessToken);\n\t\t\t},\n\t\t\thandleError: (err) => {\n\t\t\t\tconsole.warn(\"Your refresh token is invalid. Try to relogin\");\n\t\t\t\tconsole.error(err);\n\t\t\t},\n\t\t}),\n\t\tauthLink,\n\t\thttpLink,\n\t]),\n\tcache: new InMemoryCache(),\n});\n\nReactDOM.render(\n\t<BrowserRouter>\n\t\t<ApolloProvider client={client}>\n\t\t\t<StoreProvider store={store}>\n\t\t\t\t<App />\n\t\t\t</StoreProvider>\n\t\t</ApolloProvider>\n\t</BrowserRouter>,\n\tdocument.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}